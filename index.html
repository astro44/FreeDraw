<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=0, target-densitydpi=device-dpi">
		<!-- Define the viewport 
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=0, target-densitydpi=device-dpi">-->
	<meta name="apple-mobile-web-app-capable" content="yes">
	<title>WB5</title>
<style>
		html, body {
		  width:  100%;
		  height: 100%;
		  margin: 0px;
		}

		#overlayDiv {
			position: fixed;
			bottom: 0;
			right: 0;
			z-index:99;
		}
		
		  a.svg {
		  position: relative;
		  display: inline-block;
		}
		</style>
	<!-- EaselJS 0.7.1, TweenJS 0.5.1, SoundJS 0.5.2, PreloadJS 0.4.1
	<script src="http://code.createjs.com/createjs-2015.05.21.min.js"></script> -->
		
		<script src="wbDraw.js"></script>
		<!-- <script src="createjs-2015.05.21.min.js"></script> -->
		<script src="https://code.createjs.com/1.0.0/createjs.min.js"></script>
<!-- 		<script src="SpriteContainer.js"></script>
		<script src="SpriteStage.js"></script> -->
	<!-- script
			<script src="wbFormLine.js"></script>
	<script src="wb_Container.js"></script>
		src="http://hammerjs.github.io/dist/hammer.min.js"></script
			//# sourceMappingURL=dd.map
			-->

	<script src="WB5.js"></script>
</head>
<body ><!--onresize="resizeCanvas()"-->
<div id="maindraw">
	<canvas id="mainCanvas" width="800" height="500" style="background-color:blue;"></canvas>
</div>
<script>
Main.main();

	(function() {
			var 
				// Obtain a reference to the canvas element
				// using its id.
				createjsin = document.getElementById('mainCanvas');
			document.addEventListener(
				"touchstart",
				function() { return false; },
				false
			);
			  	// Obtain a graphics context on the
			  	// canvas element for drawing.
			  	//context = createjsin.getContext('2d');
 
			// Start listening to resize events and
			// draw canvas.
			initialize();
 
			function initialize() {
				// Register an event listener to
				// call the resizeCanvas() function each time 
				// the window is resized.
				window.addEventListener('resize', resizeCanvas, false);
				
				// Draw canvas border for the first time.
				resizeCanvas();
			}
				
			
			function resizeCanvas() {
				//redraw();
				
				var w=window.innerWidth-5;
				var h=window.innerHeight-5;
				var newH=h, newW=w, maxR=1.33,i=1;
				/**/if (BrowserDetect.os != "Windows" && BrowserDetect.os != "Mac"){
					var ratio = Math.round(w/h*100);
					if (ratio<75 || ratio>133){
							i=maxR;
						if (w>h){//keep canvas at 3/4 and ~**4/3**. .75~1.33
							newW=h*i;
							while (newW>=w){
								i=i-.1;
								newW=h*i;
							}
						}else{//keep canvas at **3/4** and ~4/3.
							newH=w*i;
							while (newH>=h){
								i=i-.1;
								newH=w*i;
							}
						}
					}
				}
				createjsin.width = newW;
				createjsin.height = newH;
			}
		
		})();
</script>
	<div id="overlayDiv" class="link-image-short img svg">
		<a href="http://createjs.com/" class="svg" target="_blank">
		<object type="image/svg+xml" data="img/createjs-badge-light.svg" width="150px" height="60px" style="pointer-events: none;">
		  Made with CreateJS
		</object></a>
	</div>
</body>
</html>
