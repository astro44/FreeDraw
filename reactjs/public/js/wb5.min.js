(function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){'undefined'!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:'Module'}),Object.defineProperty(e,'__esModule',{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&'object'==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,'default',{enumerable:!0,value:e}),2&n&&'string'!=typeof e)for(var i in e)t.d(r,i,function(t){return e[t]}.bind(null,i));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e['default']}:function(){return e};return t.d(n,'a',n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p='',t(t.s=0)})({"./js/BrowserDetect.js":/*!*****************************!*\
  !*** ./js/BrowserDetect.js ***!
  \*****************************//*! no static exports found */function(module,exports){eval('(function(scope) {\n\n\t/**\n\t * BrowserDetect derived from http://www.quirksmode.org/js/detect.html\n\t */\n\tvar s = {};\n\n// Public properties:\n\n\ts.browser = null;\n\ts.version = null;\n\ts.os = null;\n\n\ts.isIE = function () {\n\t\treturn s.browser == \'Explorer\';\n\t};\n\n\ts.isVista = function() {\n\t\treturn navigator.userAgent.indexOf(\'Windows NT 6.0\') != -1;\n\t};\n\n\ts.isXP = function() {\n\t\treturn navigator.userAgent.indexOf(\'Windows NT 5\') != -1;\n\t};\n\n\ts.isWindows = function() {\n\t\treturn s.os == "Windows";\n\t};\n\n\ts.isWP8 = function () {\n\t\treturn navigator.userAgent.indexOf(\'Windows Phone 8\') != -1;\n\t};\n\n\ts.isWP7 = function () {\n\t\treturn navigator.userAgent.indexOf(\'Windows Phone 7\') != -1;\n\t};\n\n\ts.isAndroid = function() {\n\t\treturn navigator.userAgent.indexOf(\'Android\') != -1;\n\t};\n\n\ts.isIE9 = function () {\n\t\treturn this.isIE() && this.getInternetExplorerVersion() == 9;\n\t};\n\n\ts.isMac = function() {\n\t\treturn s.os == "Mac" || s.isIOS();\n\t};\n\n\ts.isIOS = function() {\n\t\treturn s.os == "iPhone/iPod" || s.os == "iPad";\n\t};\n\n\ts.isIOSRetina = function () {\n\t\treturn s.isIOS() && window.devicePixelRatio > 1;\n\t};\n\n\ts.isMobileSafari = function() {\n\t\treturn s.isSafari() && s.isIOS();\n\t};\n\n\ts.isSafari = function() {\n\t\treturn s.browser == "Safari";\n\t};\n\n\ts.isChrome = function() {\n\t\treturn s.browser == "Chrome";\n\t};\n\n\ts.isFirefox = function() {\n\t\treturn s.browser == "Firefox" || s.browser == "Mozilla";\n\t};\n\n\ts.isOpera = function () {\n\t\treturn s.browser == "Opera";\n\t};\n\n\ts.getInternetExplorerVersion =  function()\n\t// Returns the version of Internet Explorer or a -1\n\t// (indicating the use of another browser).\n\t{\n\t  var rv = -1; // Return value assumes failure.\n\t  if (navigator.appName == \'Microsoft Internet Explorer\')\n\t  {\n\t    var ua = navigator.userAgent;\n\t    var re  = new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})");\n\t    if (re.exec(ua) != null)\n\t      rv = parseFloat( RegExp.$1 );\n\t  }\n\t  return rv;\n\t}\n\n// Protected properties:\n\n\ts._dataBrowser = [\n\t\t{\n\t\t\tstring: navigator.userAgent,\n\t\t\tsubString: "Chrome",\n\t\t\tidentity: "Chrome"\n\t\t},\n\t\t{ \tstring: navigator.userAgent,\n\t\t\tsubString: "OmniWeb",\n\t\t\tversionSearch: "OmniWeb/",\n\t\t\tidentity: "OmniWeb"\n\t\t},\n\t\t{\n\t\t\tstring: navigator.vendor,\n\t\t\tsubString: "Apple",\n\t\t\tidentity: "Safari",\n\t\t\tversionSearch: "Version"\n\t\t},\n\t\t{\n\t\t\tprop: window.opera,\n\t\t\tidentity: "Opera",\n\t\t\tversionSearch: "Version"\n\t\t},\n\t\t{\n\t\t\tstring: navigator.vendor,\n\t\t\tsubString: "iCab",\n\t\t\tidentity: "iCab"\n\t\t},\n\t\t{\n\t\t\tstring: navigator.vendor,\n\t\t\tsubString: "KDE",\n\t\t\tidentity: "Konqueror"\n\t\t},\n\t\t{\n\t\t\tstring: navigator.userAgent,\n\t\t\tsubString: "Firefox",\n\t\t\tidentity: "Firefox"\n\t\t},\n\t\t{\n\t\t\tstring: navigator.vendor,\n\t\t\tsubString: "Camino",\n\t\t\tidentity: "Camino"\n\t\t},\n\t\t{\t// for newer Netscapes (6+)\n\t\t\tstring: navigator.userAgent,\n\t\t\tsubString: "Netscape",\n\t\t\tidentity: "Netscape"\n\t\t},\n\t\t{\n\t\t\tstring: navigator.userAgent,\n\t\t\tsubString: "MSIE",\n\t\t\tidentity: "Explorer",\n\t\t\tversionSearch: "MSIE"\n\t\t},\n\t\t{\n\t\t\tstring: navigator.userAgent,\n\t\t\tsubString: "Gecko",\n\t\t\tidentity: "Mozilla",\n\t\t\tversionSearch: "rv"\n\t\t},\n\t\t{\t// for older Netscapes (4-)\n\t\t\tstring: navigator.userAgent,\n\t\t\tsubString: "Mozilla",\n\t\t\tidentity: "Netscape",\n\t\t\tversionSearch: "Mozilla"\n\t\t}\n\t];\n\n\ts._dataOS = [\n\t\t{\n\t\t\tstring: navigator.platform,\n\t\t\tsubString: "Win",\n\t\t\tidentity: "Windows"\n\t\t},\n\t\t{\n\t\t\tstring: navigator.platform,\n\t\t\tsubString: "Mac",\n\t\t\tidentity: "Mac"\n\t\t},\n\t\t{\n\t\t\tstring: navigator.userAgent,\n\t\t\tsubString: "iPhone",\n\t\t\tidentity: "iPhone/iPod"\n\t\t},\n\t\t{\n\t\t\tstring: navigator.userAgent,\n\t\t\tsubString: "iPad",\n\t\t\tidentity: "iPad"\n\t\t},\n\t\t{\n\t\t\tstring: navigator.platform,\n\t\t\tsubString: "Linux",\n\t\t\tidentity: "Linux"\n\t\t}\n\t];\n\n\ts._versionSearchString = null;\n\n// Public methods:\n\n\ts.init = function () {\n\t\ts.browser = s._searchString(s._dataBrowser) || "An unknown browser";\n\t\ts.version = s._searchVersion(navigator.userAgent) || s._searchVersion(navigator.appVersion) || "An unknown version";\n\t\ts.os = s._searchString(s._dataOS) || "An unknown OS";\n\t};\n\n// Protected methods:\n\n\ts._searchString = function (data) {\n\t\tfor (var i = 0, l = data.length; i < l; i++) {\n\t\t\tvar dataString = data[i].string;\n\t\t\tvar dataProp = data[i].prop;\n\n\t\t\ts._versionSearchString = data[i].versionSearch || data[i].identity;\n\t\t\tif (dataString) {\n\t\t\t\tif (dataString.indexOf(data[i].subString) != -1) { return data[i].identity; }\n\t\t\t} else if (dataProp) {\n\t\t\t\treturn data[i].identity;\n\t\t\t}\n\t\t}\n\t};\n\n\ts._searchVersion = function (dataString) {\n\t\tvar index = dataString.indexOf(s._versionSearchString);\n\t\tif (index == -1) { return; }\n\t\treturn parseFloat(dataString.substring(index + s._versionSearchString.length + 1));\n\t};\n\nscope.BrowserDetect = s;\n\ns.init(); // Auto init class.\n\n}(window.Main!=null?window.Main:window));\n\n//# sourceURL=webpack:///./js/BrowserDetect.js?')},"./js/Button.js":/*!**********************!*\
  !*** ./js/Button.js ***!
  \**********************//*! no static exports found */function(module,exports){eval('(function(scope) {\n \n\tfunction Button(id,icon,hint,label, color,invoke) {\n\t\tthis.Container_constructor();\n\t\tthis.method=invoke\n\t\tthis.color = color;\n\t\tthis.label = label;\n\t\tthis.name=this.id=id;\n\t\tthis.hint=hint;\n\t\tthis.icon=icon;\n\t\tthis.type="btn";\n\t\tthis.width=0;\n\t\tthis.height=0;\n\t\t\n\t\tthis.setup();\n\t}\n\tvar p = createjs.extend(Button, createjs.Container);\n  \n\n\tp.setup = function() {\n\t\tvar luma = window.WBdraw.ConfigWB.luma(this.color);\n\t\tvar tcolor = window.WBdraw.ConfigWB.getContrast50(this.color);\n\t\t//console.log(luma);\n\t\tif (luma < 130) {//very dark switch text color to white\n\t\t\tvar tcolor="#FFF";\n\t\t}\n\t\tvar text = new createjs.Text(this.label, "20px Arial", tcolor);\n\t\ttext.textBaseline = "top";\n\t\ttext.textAlign = "center";\n\t\t\n\t\tthis.width = text.getMeasuredWidth()+30;\n\t\tthis.height = text.getMeasuredHeight()+20;\n\t\t\n\t\ttext.x = this.width/2;\n\t\ttext.y = 10;\n\t\t\n\t\tvar background = new createjs.Shape();\n\t\tbackground.graphics.beginFill(this.color).drawRoundRect(0,0,this.width,this.height,10);\n\t\t//background.graphics.setStrokeStyle(5);\n\t\t//background.graphics.beginStroke("#000000");\n\t\t//background.graphics.beginFill(this.color).drawRoundRect(0,0,width,height,10);\n\t\tbackground.snapToPixel=true;\n\t\ttext.snapToPixel=true;\n\t\tthis.addChild(background, text); \n\t\tthis.on("click", this.handleClick);\n\t\tthis.on("rollover", this.handleRollOver);\n\t\tthis.on("rollout", this.handleRollOver);\n\t\tthis.cursor = "pointer";\n\n\t\tthis.mouseChildren = false;\n\t\t\n\t\tthis.offset = Math.random()*10;\n\t\tthis.count = 0;\n\t} ;\n\t\n\t\n\n\tp.handleClick = function (event) {\n\t\t//alert("You clicked on a button: "+this.label);\n\t\tthis.method(this,this.id)\n\t} ;\n\n\tp.handleRollOver = function(event) {       \n\t\tthis.alpha = event.type == "rollover" ? 0.4 : 1;\n\t};\n\n\tscope.Button = createjs.promote(Button, "Container");\n}(window.WBdraw));\n\n//# sourceURL=webpack:///./js/Button.js?')},"./js/Main.js":/*!********************!*\
  !*** ./js/Main.js ***!
  \********************//*! no static exports found */function(module,exports){eval('/** @define {string} */\n// var BUILD = "debug";\n\n(function(scope){\n\nfunction Main(){}\n\nMain.main = function(canvas){\n\tvar main = new Main();\n\tmain.initialize(canvas);\n\treturn main;\n}\n\nMain.prototype.initialize = function(canvas){\n\t/**\n\t* mainCanvas  keep canvas at 3/4 and ~4/3.\n\t*/\n\t// this.mainCanvas = document.getElementById("mainCanvas");\n\tthis.mainCanvas = canvas;\n\tthis.mainCanvas.setStrokeStyle="#FF0000";\n\t/**\n\t* mainStage -- CAN NOT USE WEBGL since it <shape> can NOT be added.\n\t*/\n\tthis.mainStage = new createjs.Stage(this.mainCanvas);\n\t//this.mainStage = new createjs.SpriteStage(this.mainCanvas,false,false);\n\tthis.mainStage.snapToPixelsEnabled = true;\n\tthis.mainStage.id="mainIn";\n\twindow.mainStage =this.mainStage;\n\tthis.mainStage.enableMouseOver(10);\n\t\n\t// var stats = new Stats();\n\t// var stats1 = new Stats();\n\t// var stats2 = new Stats();\n\t// stats.setMode( 0 )\n\t// stats1.setMode( 1 )\n\t// stats2.setMode( 2 )\n\t// stats.domElement.style.position = \'absolute\';\n\t// stats.domElement.style.left = \'0px\';\n\t// stats.domElement.style.bottom = \'10px\';\n\t// document.body.appendChild( stats.domElement );\n\t// window.stats=stats;\n\t// stats1.domElement.style.position = \'absolute\';\n\t// stats1.domElement.style.left = \'90px\';\n\t// stats1.domElement.style.bottom = \'10px\';\n\t// document.body.appendChild( stats1.domElement );\n\t// window.stats1=stats1;\n\t// stats2.domElement.style.position = \'absolute\';\n\t// stats2.domElement.style.left = \'180px\';\n\t// stats2.domElement.style.bottom = \'10px\';\n\t// document.body.appendChild( stats2.domElement );\n\t// window.stats2=stats2;\n\t//this.window.meter=meter;\n\t/*\n\t* createjs\n\t*/\n\tcreatejs.Ticker.addEventListener("tick", this.mainStage);\n\t//createjs.Ticker.timingMode = createjs.Ticker.RAF;\n\tcreatejs.Ticker.timingMode = createjs.Ticker.RAF_SYNCHED;\n\tcreatejs.Ticker.setFPS(60);\n\t\n\tcreatejs.Ticker.on("tick",tick);\n\t\n\tcreatejs.Touch.enable(this.mainStage);\n\tthis.mainStage.enableMouseOver();\n\t//this.mainStage.enableDOMEvents(true);\n\twindow.WBdraw.trace("main...start");\n\twindow.WBdraw.trace( BrowserDetect.browser);\n\twindow.WBdraw.trace( BrowserDetect.version);\n\twindow.WBdraw.trace( BrowserDetect.os);\n\twindow.WBdraw.trace( BrowserDetect.isIOS());\n\t\n\tvar board1= new WBdraw.WBoard("BASE_main","#ccc");\n\tboard1.snapToPixel=true;\n\tWBdraw.currentBoard = board1;\n\t\n\tthis.mainStage.addChild(board1);\n\n}\nMain.prototype.getBoard = function(){\n\treturn this.mainStage.getChildByName("BASE_main");\n}\n\tfunction tick(event){\n\t\tvar board1=mainStage.getChildByName("BASE_main");\n\t\t\n\t\t// window.stats.begin();\n\t\t// window.stats1.begin();\n\t\t// window.stats2.begin();\n\t\t//below only works with canvas NOT WEBGL  (*\n\t\t//if (!mainStage.isWebGL){\n\t\t\tif (board1.width != mainStage.canvas.width || board1.height != mainStage.canvas.height){\n\t\t\t\tboard1.setSize(mainStage.canvas.width,mainStage.canvas.height, \'#CCC\');\n\t\t\t\tconsole.log("abc tick  width:"+board1.width+"  widthCvs:"+ mainStage.canvas.width+"  height:"+board1.height+"  heightCvs:"+mainStage.canvas.height)\n\t\t\t\t\n\t\t\t\tinitSIZE(mainStage);\n\t\t\t}\n\t\t//}\n\t\t//mainStage.update();\t\t\n\t\t\n\t\t// window.stats.end();\n\t\t// window.stats1.end();\n\t\t// window.stats2.end();\n\t}\n\t/*primarily mobile fixed size*/\n\tfunction initSIZE(stage){\n\t\tvar canvas = stage.canvas;\n\t\t//below only works with canvas NOT WEBGL\n\t\t\n\t\t//if (!mainStage.isWebGL){\n\t\t\tif (canvas !=undefined){\n\t\t\t\tvar board1=stage.getChildByName("BASE_main");\n\t\t\t\tvar wbInfo =new window.WBdraw.ConfigWB( BrowserDetect.os, board1.width, board1.height);\n\t\t\t\t//var wbInfo = window.WBdraw.ConfigWB;\n\t\t\t\twindow.WBdraw.trace(wbInfo.width +", "+wbInfo.height+", "+wbInfo.scaleFactor);\n\t\t\t\t// Set the Canvas size\n\t\t\t\tcanvas.width = wbInfo.width;\n\t\t\t\tcanvas.height = wbInfo.height;\n\t\t\t\t// On hi-resolution platforms, we need to counter-scale.\n\t\t\t\tcanvas.style.width = wbInfo.width * wbInfo.scaleFactor + "px";\n\t\t\t\tcanvas.style.height = wbInfo.height * wbInfo.scaleFactor + "px";\n\t\t\t\t\n\t\t\t\t//now intialize WBoard\n\t\t\t}\n\t\t//}\n\t}\n\n\nscope.Main = Main;\n\n}(window));\n\n\n//# sourceURL=webpack:///./js/Main.js?')},"./js/resizeButton.js":/*!****************************!*\
  !*** ./js/resizeButton.js ***!
  \****************************//*! no static exports found */function(module,exports){eval('(function(scope) {\n\n\tfunction resizeBtn(id, color,invoke,revoke) {\n\t\tthis.Container_constructor();\n\t\tthis.method=invoke\n\t\tthis.methodStop=revoke\n\t\tthis.color = color;\n\t\tthis.name=this.id=id;\n\t\tthis.type="btn";\n\t\tthis.width=0;\n\t\tthis.height=0;\n\t\tthis.background=null;\n\t\tthis.stroke=1;\n\t\tthis.setup();\n\t}\n\tvar p = createjs.extend(resizeBtn, createjs.Container);\n\n\n\tp.setup = function() {\n\t\t\n\t\tthis.width = this.height = 30;\n\t\t\n\t\t\n\t\tthis.background = new createjs.Shape();\n\t\tthis.background.snapToPixel=true;\n\t\tthis.background.graphics.beginStroke("#000");\n\t\tthis.background.graphics.beginFill(this.color).drawCircle(0,0,this.height*.5);\n\t\tthis.background.graphics.endFill();\n\t\t\n\t\tthis.addChild(this.background); \n\t\t\n\t\t//this.cache(0,0, this.width,this.width);\n\t\tthis.cache(-this.width*.5-this.stroke,-this.width*.5-this.stroke, this.width+this.stroke*1.7,this.width+this.stroke*1.7);\n\t\t\n\t\tthis.on("click", this.handleClick);\n\t\tthis.on("mousedown", this.handlePress);\n\t\t//this.on("mousedown", this.handlePress);\n\t\tthis.on("pressup", this.handleRelease);\n\t\tthis.on("rollover", this.handleRollOver);\n\t\tthis.on("rollout", this.handleRollOver);\n\t\tthis.cursor = "pointer";\n\n\t\tthis.mouseChildren = false;\n\t\t\n\t\tthis.offset = Math.random()*10;\n\t\tthis.count = 0;\n\t} ;\n\t\n\tp.resize = function(w,h){\n\t\tthis.uncache();\n\t\tthis.width = w;\n\t\tthis.height = w;\n\t\tthis.background.graphics.clear();\n\t\tthis.background.graphics.beginStroke("#000");\n\t\tthis.background.graphics.beginFill(this.color).drawEllipse(0, 0, w, h);\n\t\tthis.background.graphics.endFill();\n\t\tthis.background.x=-w*.5;\n\t\tthis.background.y=-h*.5;\n\t\tthis.cache(-this.width*.5-this.stroke,-this.height*.5-this.stroke, this.width+this.stroke,this.height+this.stroke);\n\t}\n\t\n\t\n\tp.handlePress = function(event){ \n\t\tthis.method(this,this.id)\n\t\tevent.stopImmediatePropagation();\n\t};\n\tp.handleRelease = function(event){ \n\t\tconsole.log("release");\n\t\tthis.methodStop(this,this.id)\n\t\tevent.stopImmediatePropagation();\n\t};\n\n\tp.handleClick = function (event) {\n\t\t//alert("You clicked on a button: "+this.label);\n\t\t//this.method(this,this.id)\n\t\tevent.stopImmediatePropagation();\n\t} ;\n\n\tp.handleRollOver = function(event) {       \n\t\tthis.alpha = event.type == "rollover" ? 0.4 : 1;\n\t};\n\n\tscope.resizeBtn = createjs.promote(resizeBtn, "Container");\n}(window.WBdraw));\n\n//# sourceURL=webpack:///./js/resizeButton.js?')},"./js/wbBoard.js":/*!***********************!*\
  !*** ./js/wbBoard.js ***!
  \***********************//*! no static exports found */function(module,exports){eval('(function(scope) {\n // \'use strict\';\n \t/**\n\t * ...\n\t * @author R Colvin\n\t */\n\t///var scope;// SAME AS static dynamic var\n\tfunction WBoard(id, color ) {\n\t\tthis.Container_constructor();\n\t\tthis.id=this.name=id;\n\t\tthis.color = color;\n\t\tthis.layers= new Object();\n\t\tthis.controller =null;\n\t\tthis.currentTab=0;\n\t\tthis.allTabs={};\n\t\t\n\t\t//this.config=new WBdraw.ConfigWB(platform, width, height);\n\t\tthis._currentdeckIndex=null;\n\t\tthis._shapeNOW=null;\t\t  \t //shape currently being used\n\t\tObject.defineProperty(this, "shapeNOW", { \n\t\t\tget: function() { return this._shapeNOW; },\n\t\t\tset: function (shape) {\n\t\t\t\tthis._shapeNOW = shape;\n\t\t\t\tthis.notifyShapeNOW(this._shapeNOW)\n\t\t\t}\n\t\t});\n\n\t\tthis._objectInit=null;\t\t\t\n\t\tthis._undoRange=null;        //Range for undo/redo\n\t\tthis._isConnector=null;      //Boolean\n\t\tthis._sandboxRect=null;      //sandboxArea \n\t\tthis._tempModel=null;\n\t\tthis._isSynched=false;\n\t\tthis._int=0;\n\t\tthis._pressMove=null;\n\t\t//action_delete=5;\n\t\t//action_create=1;\n\t\t//action_update=2;\n\t\tthis.observersShapeNOW = [];\n\t\tthis.setup();\n\t}\n\n\tvar p = createjs.extend(WBoard, createjs.Container);\n\t\n\tp.subscribeShapeNOW = function (f) {\n\t\tthis.observersShapeNOW.push(f);\n\t}\n\n\t// add the ability to unsubscribe from a particular object\n\t// essentially, remove something from the observersShapeNOW array\n\tp.unsubscribeShapeNOW = function (f) {\n\t\tthis.observersShapeNOW = this.observersShapeNOW.filter(subscriber => subscriber !== f);\n\t}\n\n\t// update all subscribed objects / DOM elements\n\t// and pass some data to each of them\n\tp.notifyShapeNOW = function (data) {\n\t\tthis.observersShapeNOW.forEach(observer => observer(data));\n\t}\n\tp.getLayer = function (id){return this.layers[id];}\t\n\t\tp.drawinit= function(owner,form,type,path){\n\t\t\t//create modify Shape\n\t\t\tif (type==null || type=="")type=form;\n\t\t\tconsole.log("!@#@!!@###@@@====>>  form:"+form+" type:"+type);\n\t\t\tswitch (form){\n\t\t\t\tcase "modify":\n\t\t\t\t\tswitch (type){\n\t\t\t\t\t\tcase "delete":\n\t\t\t\t\t\t\tif (this.shapeNOW!=null){\n\t\t\t\t\t\t\t\tthis.onDelete(this.shapeNOW,this.currentTab,false,false);\n\t\t\t\t\t\t\t\tthis.shapeNOW=null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase "color":\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase "alpha":\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase "clear":\n\t\t\t\t\t\tthis.onDeleteAll(this.currentTab);\n\t\t\t\t\t\tthis.shapeNOW=null;\n\t\t\t\t\tbreak;\n\t\t\t\tcase "print":\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\t\t\t\t\n\t\t\t\t\towner._objectInit=false;\n\t\t\t\t\t\n\t\t\t\t\tvar modelIN={"classIn":form,"type":type,"path":path}\n\t\t\t\t\towner._tempModel = modelIN;\n\t\t\t}\n\t\t}\n\t\tp.shapeTweenUpdate= function (form,pos){\n\t\t\tpos.alpha=0.5;\n\t\t\tcreatejs.Tween.get(owner.form, {override:true}).to({x:pos.x,y:pos.y,alpha:1},300,createjs.Ease.quadIn);\n\t\t},\n\t\tp.menuEventProxy=  function (event){\n\t\t\tthis.drawinit(this,event.param[0],event.param[1]);\n\t\t},\n\t\tp.shapeStart=  function (){\n\t\t\tif (this.shapeNOW!=null){\n\t\t\t\tconsole.log("...found shape in use..."+this.shapeNOW.id);\n\t\t\t\tif (!this.shapeNOW._commited) {\n\t\t\t\t\tif (this.shapeNOW.type!="links"){\n\t\t\t\t\t\tthis.shapeNOW.drawPerm(this.shapeNOW,false);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.onDelete(this.shapeNOW,this.currentTab,false,true);\t\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.shapeNOW=null;\n\t\t\t}\n\t\t\tconsole.log(this.shapeNOW);\n\t\t\tvar type =this._tempModel.type;\n\t\t\tswitch (this._tempModel.type) {\n\t\t\t\tcase "select":\n\t\t\t\t\tbreak;\n\t\t\t\tcase "ungroup":\n\t\t\t\t\tbreak;\n\t\t\t\tcase "links":\n\t\t\t\t\tconsole.log("links[IN]");\n\t\t\t\t\t//if \n\t\t\t\t\tbreak\n\t\t\t\tdefault:\n\t\t\t\t\tif (!this._objectInit){\n\t\t\t\t\t\twindow.WBdraw.trace(" Form"+window.WBdraw.toTitleCase(this._tempModel.classIn));\n\t\t\t\t\t\tshapeCreate(this);\n\t\t\t\t\t\t//noncommited event\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t}\n\t\t},\n\t\tp.drawing=  function (x,y){\n\t\t\tif (this._objectInit!=false){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconsole.log("..drawing nwo");\n\t\t\tif (this.shapeNOW!=undefined){\n\t\t\t\tif (this.shapeNOW != this.resizer.formTarget){\n\t\t\t\t\tvar lc= this.shapeNOW.bg.globalToLocal(x,y);\n\t\t\t\t\tthis.shapeNOW.drawTemp(lc.x,lc.y);\t\t\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tp.drawdone=  function (owner){\n\t\t\twindow.WBdraw.trace("...done nwo",p);\n\t\t\tif (owner.shapeNOW!=undefined){\n\t\t\t\t\towner.shapeNOW.drawPerm(owner.shapeNOW,false);\n\t\t\t\tif (owner.shapeNOW.type=="text"){\n\t\t\t\t\tif (owner.resizer.parent==undefined)\n\t\t\t\t\t\towner.addChild(this.resizer);\n\t\t\t\t\t\towner.resizer.wrapTarget(owner.resizer,owner.shapeNOW);\n\t\t\t\t\t\towner.test_draw("line","free");\n\t\t\t\t}\n\t\t\t}\n\t\t\towner.shapeNOW=null;\n\t\t\t\n\t\t},\n\t\tp.clearObject=  function(){\n\t\t\t\n\t\t\tthis.shapeNOW=null;\n\t\t}\n\t\t\n\n\t\n\t\n\tp.setup = function() {\n\t\t\n\t\tvar bg = new createjs.Shape();\n\t\t\n\t\tbg.snapToPixel=true;\n\t\tbg.alpha=1;\n\t\tbg.name=bg.id="bg";\n\n\t\tvar DECK = new WBdraw.Box("cvsDECK", "#ccc", true);\n\t\tvar MAIN = new WBdraw.Box("cvsMAIN", "#ccc", true);\n\t\tvar SAND = new WBdraw.Box("cvsSAND", "#ccc", true);\n\t\tDECK.snapToPixel=true;\n\t\tMAIN.snapToPixel=true;\n\t\tSAND.snapToPixel=true;\n\t\t\n\t\tthis.layers[DECK.id]=DECK;\n\t\tthis.layers[MAIN.id]=MAIN;\n\t\tthis.layers[SAND.id]=SAND;\n\t\twindow.WBdraw.trace("8=====1====o");\n\t\tthis.resizer= new WBdraw.FormResize("rsize","rtool");\n\t\tthis.resizer.x=200;\n\t\tthis.resizer.y=20;\n\t\tthis.resizer.snapToPixel=true;\n\t\t\n\t\t\n\t\tthis.addChild(bg,DECK,MAIN,SAND);\n\t\tthis.menu=new WBdraw.Menu("m1",this); \n\t\tthis.menu.snapToPixel=true;\n\t\tthis.menu.addEventListener("MenuEvent", this.menuEventProxy.bind(this));\n\t\tthis.addChild(this.menu); \n\t\t\n\t\tthis.on("click", this.handleClick.bind(this));\n\t\tthis.on("mousedown", this.handlePress.bind(this));\n\t\tthis.on("pressup", this.handleRelease.bind(this));\n\t\t\n\t\t//this.cursor = "pointer";\n\t\t//this.mouseChildren = false;\n\t\t\n\t\tthis.offset = Math.random()*10;\n\t\tthis.count = 0;\n\t\tthis.test_draw("line","free");\n\t\t\n\t\tthis._pressMove = this.drawLine.bind(this);\n\t};\n\t\n\tp.width=0;\n\tp.height=0;\n\t\n\tp.setSize = function (width,height,color){\n\t\tvar bg=this.getChildByName("bg");\n\t\tconsole.log("resizeBy");//.beginFill(\'#\'+Math.floor(Math.random()*16777215))\n\t\tbg.graphics.clear()\n\t\t\t\t.beginStroke(\'#ccc\')\n\t\t\t\t.beginFill(color)\n\t\t\t\t.drawRect(0,0,width,height);\n\t\t\n\t\tfor (var i in this.layers){\n\t\t\tthis.layers[i].setSize(width,height,color);\n\t\t}\n\t\tp.width=width;\n\t\tp.height=height;\n\t};\n\tp.getWidth = function(){\n\t\tconsole.log("get width");\n\t\treturn width;\n\t};\n\tp.wbRegister = function (wbid,tabid){\n\t\t\n\t}\n\tp.clear = function(type,wbid){\n\t\t//clear all objects in view based on type  ;\n\t}\n\tp.wbSwitch = function (wbid){\n\t\t\n\t}\n\tp.unshift =function(items){}//to front\n\tp.push =function(items){}//toback\n\t\n\n\tp.handleClick = function (event) {\n\t\t//alert("You clicked on a button: "+this.label);\n\t\twindow.WBdraw.trace("click1");\n\t};\n\t\n\tp.handlePress = function(event){\n        //mainStage.addEventListener("stagemousemove", this.drawLine);\n        //mainStage.addEventListener("stagemouseup", this.endDraw);\n\t\tconsole.log("pressing.33gfw...");\n\t\t\n\t\tthis.shapeStart();\n\t\tthis.on("pressmove", this._pressMove);\n\t\tif (this.resizer.EMPTY()){\n\t\t\tif (this.shapeNOW.id==this.resizer.formTarget.id)\n\t\t\t\tthis.shapeNOW=null;\n\t\t\t//this.resizer.formTarget.action=\n\t\t\tthis.onDelete(this.resizer.formTarget,this.currentTab,false,false);\n\t\t}\n\t\tthis.resizer.wrapTarget(this.resizer,null);\n\t\tevent.stopImmediatePropagation();\n\t};\n\tp.handleRelease = function(event){\n\t\tthis.drawdone(this);\n\t\tthis.off("pressmove", this._pressMove);\n\t};\n\t\n\t\n\t// out of scope below\n\tp.drawLine = function(event){\n\t\t//console.log(".......drawline..........");\n\t\tthis.drawing(mainStage.mouseX,mainStage.mouseY);\n\t};\n\tp.endDraw = function(event){\n\t\twindow.WBdraw.trace("enddraw1");\n\t\tthis.off("pressmove", this._pressMove);\n\t};\n\t\n\t\n\tp.test_draw = function(form,type){\n\t\twindow.WBdraw.trace("enddraw1");\n\t\tthis.drawinit(this,form,type);\n\t};\n\t/* when changing tabs fromJMS should be set to true\n\t** when deleting And requires update to fromJMS set to false\n\t*/\n\tp.onDelete=function(ss,tab,grouped,fromJMS){\n\t\twindow.WBdraw.trace("8=========o");\n\t\tconsole.log(ss);\n\t\tif (ss == undefined){\n\t\t\twindow.WBdraw.trace("<<<<<<<<<< undefined in DELETE >>>>>>>>>>");\n\t\t\treturn;\n\t\t}\n\t\tvar mc = this.layers[\'cvsMAIN\'];\n\t\tvar shape = mc.getChildByName(ss.name);\n\t\tif (!grouped)this.updateShape(shape,window.WBdraw.FormProxy.DELETE,tab);\n\t\tif (shape!=null){\n\t\t\tif(shape.parent != null){\n\t\t\t\tconsole.log(shape.parent);\n\t\t\t\tshape.destroy(fromJMS);\n\t\t\t\twindow.WBdraw.trace("<<<<===delete...====o");\n\t\t\t\tshape.commit(window.WBdraw.FormProxy.DELETE);\n\t\t\t\tshape.removeAllEventListeners();\n\t\t\t\tshape.parent.removeChild(shape);\n\t\t\t\tdelete shape;\n\t\t\t}\n\t\t}\n\t\tif (!fromJMS){//send commited event\n\t\t\tconsole.log("send to JMS server");\n\t\t}\n\t\tthis.resizer.wrapTarget(this.resizer,null);\n\t}\n\tp.onDeleteAll=function(tab){\n\t\tif (tab==this.currentTab){\n\t\t\t//remove from view\n\t\t\twindow.WBdraw.trace("< [START] removeAll>");\n\t\t\tconsole.log(this.allTabs);\n\t\t\tvar stot = this.allTabs[tab].length;\n\t\t\tvar i = this.allTabs[tab].length;\n\t\t\twhile (this.allTabs[tab].length>0){\n\t\t\t\tconsole.log(this.allTabs[tab][i-1]);\n\t\t\t\tthis.onDelete(this.allTabs[tab][i-1],tab,true,false);\n\t\t\t\t--i;\n\t\t\t}\n\t\t}\n\t\t\twindow.WBdraw.trace("< [END] removeAll>");\n\t\t\tconsole.log(this.allTabs[tab]);\n\t\tif (this.allTabs[tab]!=undefined)\n\t\t\tthis.allTabs[tab].splice(0);\n\t\t//remove from memory the given tab\n\t\t//this.allTabs[0][childindex]  remove//\n\t\t//this.allTabs.splice(0);\n\t}\n\n\tp.updateShape = function(shape,action/*int*/,tab){\n\t\t//does tab exists?\n\t\tvar found=false;\n\t\tconsole.log("~~~~!-updateShape-!~~~~"+tab);\n\t\tif (shape==undefined){\n\t\t\twindow.WBdraw.trace("<<<<<<<  [1] ???????????   >>>>>>>>>"+shape);\n\t\t\twindow.WBdraw.trace("<<<<<<<<<<      >>>>>>>>>>");\n\t\t\twindow.WBdraw.trace("<<<<<<<<<<      >>>>>>>>>>");\n\t\t\twindow.WBdraw.trace("<<<<<<<<<< undefined in updateShape >>>>>>>>>>");\n\t\t}\n\t\t//if (tab==undefined)return;\n\t\tif (this.allTabs[tab]==undefined)this.allTabs[tab]=[];\n\t\tvar tot=this.allTabs[tab].length;\n\t\tconsole.log(this.allTabs);\n\t\tconsole.log(this.allTabs[tab]);\n\t\t\n\t\tvar flat = new window.WBdraw.FormProxy();\n\t\twindow.WBdraw.FormProxy.flattenForm(flat,shape,tab);\n\t\tif (flat==undefined){\n\t\t\twindow.WBdraw.trace("     [2]   <<<<<<<   ???????????   >>>>>>>>>"+flat);\n\t\t\twindow.WBdraw.trace("        <<<<<<<<<<      >>>>>>>>>>");\n\t\t\twindow.WBdraw.trace("        <<<<<<<<<<      >>>>>>>>>>");\n\t\t\twindow.WBdraw.trace("        <<<<<<<<<< undefined in updateShape >>>>>>>>>>");\n\t\t}\n\t\tfor (var i=0;i<tot;++i){\n\t\t\tif (this.allTabs[tab][i].name==flat.name){\n\t\t\t\tif(action==window.WBdraw.FormProxy.DELETE){//DELETE\n\t\t\t\t\tthis.allTabs[tab].splice(i,1);\n\t\t\t\t}else{\n\t\t\t\t\tthis.allTabs[tab][i]=flat;\n\t\t\t\t}\n\t\t\t\tfound=true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (!found && action!=window.WBdraw.FormProxy.DELETE){\n\t\t\tthis.allTabs[tab].push(flat);\n\t\t}else if (action==window.WBdraw.FormProxy.DELETE){\n\t\t\tconsole.log("see if event already exists in undo/redo with SAME timeStamp");\n\t\t\t//console.log(shape);\n\t\t\t//console.log(this.allTabs[tab]);\n\t\t}\n\t}\n\t/**\n\t** any links connected to SAME objects?\n\t**/\n\tp.uniqueLink = function (linkShape,tab){\n\t\tconsole.log("~~~~!-link check-!~~~~"+tab);\n\t\t//if (tab==undefined)return;\n\t\tif (this.allTabs[tab]==undefined)this.allTabs[tab]=[];\n\t\tvar tot=this.allTabs[tab].length;\n\t\tvar rin=linkShape.related;\n\t\tvar rout=null;\n\t\tvar curT=null;\n\t\tfor (var i=0;i<tot;++i){\n\t\t\tif (this.allTabs[tab][i].type=="links" && this.allTabs[tab][i].id != linkShape.id){\n\t\t\t\t//could still be linked to similar object if connected to link\n\t\t\t\tcurT = this.allTabs[tab][i];\n\t\t\t\trout = curT.related;\n\t\t\t\tif (rin.to.id == curT.id || rin.from.id == curT.id){//it is connecting to another link /// NOW check to see if from or to objects R the same\n\t\t\t\t\tif (rin.from.id == rout.to.id || rin.from.id == rout.from.id || rin.to.id == rout.to.id || rin.to.id == rout.from.id){\n\t\t\t\t\t\tconsole.log("  @@!!@@!!@@found same And ITS A copy");\n\t\t\t\t\t\treturn curT;\n\t\t\t\t\t}\n\t\t\t\t}\t\n\t\t\t\tif (rout.from.id==rin.from.id || rout.from.id==rin.to.id){\n\t\t\t\t\tif (rout.to.id==rin.to.id || rout.to.id==rin.from.id){\n\t\t\t\t\t\tvar link = this.allTabs[tab][i];\n\t\t\t\t\t\tif (rout.from.id!=rin.from.id){\n\t\t\t\t\t\t\tvar mc = this.layers[\'cvsMAIN\'];\n\t\t\t\t\t\t\tvar sLink = mc.getChildByName(link.id);\n\t\t\t\t\t\t\tsLink.bidirection = link.bidirection = true;\n\t\t\t\t\t\t\t//sLink.drawPerm(sLink,false);\n\t\t\t\t\t\t\tsLink.moveLink(sLink, window.WBdraw.FormProxy.UPDATE);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconsole.log("  @@!!@@!!@@f should it be bidirectionl?");\n\t\t\t\t\t\tconsole.log(rout.from.id);\n\t\t\t\t\t\tconsole.log(rin.from.id);\n\t\t\t\t\t\tconsole.log(rin.to.id);\n\t\t\t\t\t\tconsole.log("  @@!---------____________--------!!@@");\n\t\t\t\t\t\treturn link;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\t\n\n\t\n\tfunction addListeners (shape,owner){\n\t\tshape.addEventListener("CommitEvent", onCommit.bind(owner));\n\t\t//shape.addEventListener("NONCommitEvent", onNONCommit.bind(owner));\n\t\tshape.addEventListener("PressEvent", onPress.bind(owner));\n\t\tshape.addEventListener("ReleaseEvent", onRelease.bind(owner));\n\t\tif (shape.type!="links")\n\t\t\tshape.on("pressmove", moveLocally.bind(owner));\n\t}\n\t\n\t/*function onNONCommit(event){\n\t\t\n\t}*/\n\t\n\tfunction moveLocally (evt){\n\t\t//console.log(evt);\n\t\tvar shape = evt.currentTarget;\n\t\tif (this._tempModel.type=="links"){//You can\'t moveBy links... they Area tied down by binding objects\n\t\t\treturn;\n\t\t}\n\t\tvar newX=evt.stageX-shape.rel.x+shape.regX;\n\t\tvar newY=evt.stageY-shape.rel.y+shape.regY;\n\t\tshape.x=newX;\n\t\tshape.y=newY;\n\t\tupdate=true;\n\t\tevt.stopImmediatePropagation();\n\t\t\n\t   var myevent = {\n\t\t type: "MoveEvent",\n\t\t param: shape\n\t   };\n\t\tshape.dispatchEvent(myevent);\n\t\t//console.log("..............");\n\t}\n\tfunction onCommit(event){\n\t\twindow.WBdraw.trace("=========commited-========"+this.currentTab);\n\t\tvar shape = event.param;\n\t\tconsole.log(shape);\n\t\t\n\t\tif (shape.type=="links" && event.action!=window.WBdraw.FormProxy.DELETE){//check to see if another link with SAME objects exists  \n\t\t\tvar isCopy=this.uniqueLink(shape,this.currentTab);\n\t\t\tif (isCopy){//remove shape from Stage since its a copy\n\t\t\t\twindow.WBdraw.trace("========= C O P Y ========");\n\t\t\t\tthis.onDelete(shape,this.currentTab,false,true);//only delete locally fromJMS==true assumes server is up to Date.\n\t\t\t\tshape=isCopy;\n\t\t\t}\n\t\t\tshape.visible=true;\n\t\t}\n\t\tshape._commited=true;\n\t\t//this.shapeNOW.parent.removeChild(this.shapeNOW);\n\t\t\n\t\tthis.updateShape(shape,event.action,this.currentTab);\n\t\t//window.WBdraw.trace(event);\t\n\t}\n\t\n\tfunction onPress(event){\n\t\twindow.WBdraw.trace("=========onPRESS-========"+this.currentTab);\n\t\t\n\t\tif (this.shapeNOW!=null)\n\t\t\tthis.shapeNOW.visible=true;\n\t\t//this.resizer.wrapTarget(this.resizer,null);\n\t\t//console.log("now target link to this shape if this is the type tool currently in use");\n\t\t//console.log("skip the rest of the function if type == links");\n\t\tvar shape = event.param;\n\t\tconsole.log("   ===>"+shape.id);\n\t\tif (this._tempModel.type=="links"){\n\t\t\tconsole.log("ola links just happened");\n\t\t\tvar frshape = null;\n\t\t\tif (this.shapeNOW == null){\n\t\t\t\tfrshape=shapeCreate(this);\n\t\t\t\tconsole.log("=========  ( A )");\n\t\t\t}else{\n\t\t\t\tif (this.shapeNOW.type=="links"){\n\t\t\t\t\tfrshape = this.shapeNOW;\n\t\t\t\t\tconsole.log("=========  ( B )"+frshape);\n\t\t\t\t\tif (frshape.linked){//relationship complete create new NOW\n\t\t\t\t\t\t//frshape=shapeCreate(this);\n\t\t\t\t\t\tconsole.log("=========  ( C )");\n\t\t\t\t\t}\t\t\t\t\n\t\t\t\t}else{//current shape is not links so create new oneshapeCreate\n\t\t\t\t\tfrshape=shapeCreate(this);\n\t\t\t\t\tconsole.log("=========  ( D )");\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t//this.on("pressmove", this.drawLine.bind(this));\n\t\t\tvar finished=frshape.link(shape);\n\t\t\tif (finished){\n\t\t\t\tthis.shapeNOW=null;\n\t\t\t\tmainStage.removeEventListener("stagemousemove", this._pressMove);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.shapeNOW=frshape;\n\t\t\tfrshape.x=shape.x;\n\t\t\tfrshape.y=shape.y;\n\t\t\tmainStage.addEventListener("stagemousemove", this._pressMove);\n\t\t\treturn;\n\t\t}\n        mainStage.addEventListener("stagemouseup", shape.moveEND.bind(shape));\n\t\tif (!shape.scaled){\n\t\t\tcreatejs.Tween.get(shape,{override:true}).to({scaleX:1.05, scaleY:1.05},100,createjs.Ease.quadIn);\n\t\t\tshape.scaled=true;\n\t\t\tshape.rel2=new createjs.Point(mainStage.mouseX-shape.x,mainStage.mouseY-shape.y);\n\t\t\tshape.rel = new createjs.Point(shape.width*.5+shape.rel2.x,shape.height*.5+shape.rel2.y);\n\t\t}\n\t}\n\t/** ReleaseEvent is also selectevent**/\n\tfunction onRelease(event){\n\t\twindow.WBdraw.trace("=========onRelease-========"+this.currentTab);\n\t\t\n\t\tvar shape = event.param;\n\t\tif (this._tempModel.type=="links"){\n\t\t\tconsole.log("ola links just happened");\n\t\t\treturn;\n\t\t}\n        mainStage.removeEventListener("stagemousemove", shape.moveSTART);\n        mainStage.removeEventListener("stagemouseup", shape.moveEND);\n\t\t\n\n\t\twindow.WBdraw.trace(this.resizer);\n\t\twindow.WBdraw.trace("=========onSelect-=22222=======");\n\t\tthis.resizer.handleRollOver(event);\n\t\tif (this.resizer.parent==undefined)\n\t\t\tthis.addChild(this.resizer);\n\t\tthis.resizer.wrapTarget(this.resizer,shape);\n\t\tconsole.log(shape);\n\t\tthis.shapeNOW = shape\n\t}\n\t\n\tfunction shapeCreate(owner){\n\t\tconsole.log("!!!!! create    !!!"+owner._tempModel.classIn);\n\t\tvar mc = owner.layers[\'cvsMAIN\'];\n\t\tvar type =owner._tempModel.type\n\t\tvar nameIn="rcolvi_";\n\t\tif (!owner._isSynched){\n\t\t\tnameIn+=owner._int\n\t\t\t++owner._int;\n\t\t}\n\t\tvar shape = new WBdraw["Form"+window.WBdraw.toTitleCase(owner._tempModel.classIn)](nameIn, type)\n\t\t//var shape = new FormLine("rcolvi_"+type, type);\n\t\tshape.x=mainStage.mouseX;\n\t\tshape.y=mainStage.mouseY;\n\t\tmc.addChild(shape);\n\t\towner.shapeNOW=shape;\n\t\taddListeners(shape,owner);\t\n\t\treturn shape;\n\t}\n\n\n\t\n\tcreatejs.EventDispatcher.initialize(WBoard.prototype);\n\t\n\t\n\tscope.WBoard = createjs.promote(WBoard, "Container");\n\t//scope.WBoard = WBoard;\n\t}(window.WBdraw))\n\n//# sourceURL=webpack:///./js/wbBoard.js?')},"./js/wbBox.js":/*!*********************!*\
  !*** ./js/wbBox.js ***!
  \*********************//*! no static exports found */function(module,exports){eval('(function(scope) {\n // \'use strict\';\n\t///var scope;// SAME AS static dynamic var\n\tfunction Box(id, color,  transparent) {\n\t\tthis.Container_constructor();\n\t\tthis.id=this.name=id;\n\t\tthis.transparent=transparent;\n\t\tthis.color = color;\n\t\tthis.setup();\n\t}\n\tvar p = createjs.extend(Box, createjs.Container);\n\n\n\tp.setup = function() {\n\t\t//var hitArea = new createjs.Shape();\n\t\t//hit.graphics.beginFill("#000").drawRect(0, 0, label2.getMeasuredWidth(), label2.getMeasuredHeight());\n\t\t//label2.hitArea = hit;\n\t\t\n\t\tvar bg = new createjs.Shape();\n\t\tbg.snapToPixel=true;\n\t\tbg.alpha=1;\n\t\tbg.name=bg.id="bg";\n\t\t\n\t//\tvar v1 = new FormShape("m_id","ss","square","#FFF");\n\t\t\n\t\t\n\t\t//this.addChild(bg, v1); \n\t\tthis.on("click", this.handleClick);\n\t\tthis.on("mousedown", this.handlePress);\n\t\tthis.on("pressup", this.handleRelease);\n\t\t//this.on("pressmove", this.drawLine);\n\t\t\n\t\tconsole.log("box1");\n\t\t//this.cursor = "pointer";\n\t\t//this.mouseChildren = false;\n\t\t\n\t\tthis.offset = Math.random()*10;\n\t\tthis.count = 0;\n\t};\n\t\n\tp.width=0;\n\tp.height=0;\n\t\n\tp.setSize = function (width,height,color){\n\t\tp.width=width;\n\t\tp.height=height;\n\t\tif (this.transparent)return;\n\t\tvar bg=this.getChildByName("bg");\n\t\tconsole.log("resizerrrBy");//.beginFill(\'#\'+Math.floor(Math.random()*16777215))\n\t\tbg.graphics.clear()\n\t\t\t\t.beginStroke(\'#ccc\')\n\t\t\t\t.beginFill(color)\n\t\t\t\t.drawRect(0,0,width,height);\n\t\t\t\t\n\t\tthis.cache(0,0,width,height);\n\t};\n\tp.getWidth = function(){\n\t\tconsole.log("get width");\n\t\treturn width;\n\t};\n\n\tp.handleClick = function (event) {\n\t\t//alert("You clicked on a button: "+this.label);\n\t\tconsole.log("click");\n\t\tevent.stopImmediatePropagation();\n\t};\n\t\n\tp.handlePress = function(event){\n\t\tconsole.log(event);\n\t\tconsole.log("press");\n\t\t//event.stopImmediatePropagation();\n\t};\n\tp.handleRelease = function(event){\n\t\t\n\t\tconsole.log("release");\n\t\tevent.stopImmediatePropagation();\n\t};\n\t// out of scope below\n\tp.drawLine = function(event){\n\t\tconsole.log("draw");\n\t\tevent.stopImmediatePropagation();\n\t};\n\tp.endDraw = function(event){\n\t\tconsole.log("enddraw");\n\t\tevent.stopImmediatePropagation();\n\t};\n\t\n\n\tscope.Box = createjs.promote(Box, "Container");\n}(window.WBdraw));\n\n//# sourceURL=webpack:///./js/wbBox.js?')},"./js/wbFormFill.js":/*!**************************!*\
  !*** ./js/wbFormFill.js ***!
  \**************************//*! no static exports found */function(module,exports){eval('(function(scope) {\n // \'use strict\';\n\t///var scope;// SAME AS static dynamic var\n\tfunction FormFill(id,type) {\n\t\tthis.Container_constructor();\n\t\tthis.id=this.name=id;\n\t\tthis.color = "";\n\t\tthis.type=type;\n\t\tthis.limitDraw=false;\n\t\tthis.rect=null;\n\t\tthis.segSize=12;\n\t\tthis.regX=0;\n\t\tthis.regY=0;\n\t\tthis.scaled=false;\n\t\tthis.rel={x:0,y:0};   \t\t//relative coordinates\n\t\tthis.text=null;\n\t\tthis.label="";\n\t\tthis.tempOrigin=null;\n\t\tthis.lastXY={x:0,y:0}\n\t\tthis.related=null;\n\t\tthis.biderectional=false;\n\t\tthis._commited = false;\n\t\tthis.elastic=true;\n\t\tthis.rotary=true;\n\t\tthis.setup();\n\t}\n\tcreatejs.EventDispatcher.initialize(FormFill.prototype);\n\tvar p = createjs.extend(FormFill, createjs.Container);\n\n\tp.setup = function() {\n\t\tthis.points=[];\n\t\t//this.l\n\tthis.bg = new createjs.Shape();\n\tthis.bg.snapToPixel=true;\n\tthis.hitHelper = new createjs.Shape();\n\tthis.hitHelper.snapToPixel=true;\n\tthis.bg.hitArea=this.hitHelper;\n\t\n\t\tthis.addChild(this.bg); \n\t\t\n\t\tthis.on("mousedown", this.handlePress.bind(this));\n\t\tthis.on("pressup", this.handleRelease.bind(this));\n\t\tthis.cursor = "pointer";\n\t\tthis.mouseChildren = false;\n\t\t\n\t\tthis.offset = Math.random()*10;\n\t\tthis.count = 0;\n\t\tthis.status=window.WBdraw.FormProxy.NEW;\n\t} ;\n\n\tp.drawTemp= function (fx,fy) {\n\t\tthis._commited = false;\n\t\tthis.uncache();\n\t\tp[this.type](this,fx,fy);\n\t}\n\t\n\tp.drawPerm= function (shape,init) {\n\t\tif (shape.id !=this.id)\n\t\t\treturn;\n\t\ttry{\n\t\t\tvar finalIn=p[this.type+"Perm"](this,shape,init);\n\t\t}catch(err){\n\t\t\t//console.log(err);\n\t\t\tthrow "[E] No function matches:"+this.type+"Perm() in FormFill (wbFormFill.js)";\n\t\t\t\n\t\t}\n\t\t // console.log("...create....");\n\t\tif (finalIn)\n\t\t\tthis.commit(window.WBdraw.FormProxy.UPDATE);\n\t}\t\n\tp.EMPTY = function (){\n\t\treturn false;\n\t}\n\tp.commit = function (action){\n\t\tif (action=="blur")\n\t\t\treturn;\n\t\t   var myevent = {\n\t\t\t type: "CommitEvent",\n\t\t\t param: this,\n\t\t\t action:action\n\t\t   };\n\t\tthis.dispatchEvent(myevent);\n\t}\n\n\n\t\n\tp.scaleState = function (scld){\n\t\tthis.scaled=scld;\n\t\tthis.scaleX=this.scaleY=1;\n\t}\n\tp.setSize = function (width,height,color){\n\t\t\n\t}\n\n\n\tp.moveSTART = function (event){\n\t\tevent.stopImmediatePropagation();\n\t\tvar mStage = event.target;\t\t\n\t\tvar target, targets = mStage.getObjectsUnderPoint(mStage.mouseX, mStage.mouseY, 1);\n        for (var i=0; i<targets.length; i++) {\n            if (targets[i].parent.scaled) {\n                target = targets[i].parent;\n                break;\n            }\n        }\n\n        if (target != null) {\n\t\t\t//target.x=mStage.mouseX-target.rel.x+target.regX;\n\t\t\t//target.y=mStage.mouseY-target.rel.y+target.regY;\n\t\t\t//console.log(target.rel+","+target.regX);\n\t\t\t//console.log(event);\n\t\t\tconsole.log("@@@  start 9 @@@@");\n\t\t\t//mainStage.update();\n\t\t\t//event.target.update();\n\t\t}\n\t}\n\tp.moveEND = function(event){\n\t\tvar mStage = event.target;\n\t\t\n\t\tif (this.x==this.lastXY.x && this.y==this.lastXY.y){\n\t\t\treturn;\n\t\t}\n\t\tvar target, targets = mStage.getObjectsUnderPoint(mStage.mouseX, mStage.mouseY, 1);\n        for (var i=0; i<targets.length; i++) {\n            if (targets[i].parent.scaled) {\n                target = targets[i].parent;\n                break;\n            }\n        }\n        if (target != null) {\n\t\t\ttarget.scaled=false;\n\t\tcreatejs.Tween.get(target,{override:true}).to({scaleX:1, scaleY:1},100,createjs.Ease.quadIn);\n\t\t}\n\t\t\n\t\t  //console.log("...moved....");\n\t\tthis.commit(window.WBdraw.FormProxy.MOVED);\n\t\tthis.lastXY.x=this.x;\n\t\tthis.lastXY.y=this.y;\n\t\t//event.stopImmediatePropagation();\n\t}\n\t\n\t\n\t\n\tp.handlePress = function(event){\n\t\t  //console.log("...handlePress....");\n\t   var mevt = {\n\t\t type: "PressEvent", \n\t\t param: this\n\t   };\n\t\t//if (!this.scaled)\n\t\tevent.stopImmediatePropagation();\n\t   this.dispatchEvent(mevt);\n\t}\n\t\n\tp.handleRelease = function(event){\n\t   var mevt = {\n\t\t type: "ReleaseEvent", \n\t\t param: this\n\t   };\n\t\tevent.stopImmediatePropagation();\n\t   this.dispatchEvent(mevt);\n\t}\n\t\n\n\n\tp.handleRollOver = function(event) {       \n\t\tthis.alpha = event.type == "rollover" ? 0.4 : 1;\n\t};\n\n\t\n\tp.square = function(owner,fx,fy){\n\t\tvar lc=new createjs.Point(fx,fy);\n\t\tvar MC =owner.bg.graphics;\n\t\tMC.clear();\n\t\towner.points=[];\n\t\tMC.setStrokeStyle(5);\n\t\t\tMC.beginStroke(\'#\'+Math.floor(Math.random()*16777215).toString(16)); \n\t\t\tMC.beginFill(\'#\'+Math.floor(Math.random()*16777215).toString(16)); \n\t\t\tMC.rect(0,0,lc.x, lc.y);\n\t\towner.points.push(lc);\n\t\tMC.endStroke();\n\t\tMC.endFill(); \n\t\t//this.cache(0,0,inX,inY);\n\t}\n\t\n\t\n\n\tp.squarePerm = function(owner,shape,init){\n\t\t\n\t\tvar MC =owner.bg.graphics;\n\t\tvar HTC =owner.bg.hitArea.graphics;\n\t\tMC.clear();\n\t\tHTC.clear();\n\t\tvar tot = owner.points.length;\n\t\tif (tot==0){\n\t\t\tvar parentIN= owner.parent;\n\t\t\t//console.log(parentIN.getNumChildren());\n\t\t\towner.parent.removeChild(this);\n\t\t\t//console.log(parentIN.getNumChildren());\n\t\t\treturn false;\n\t\t}\n\t\tolc = owner.points[0];\n\t\tlc = window.WBdraw.ConfigWB.convert2pos(owner,olc);\n\t\tvar strokeIn=5;\n\t\tif (lc.x<0){//moveBy in the + direction X\n\t\t\towner.regX=-Math.abs(lc.x*.5);\n\t\t\towner.x=owner.x+owner.regX;\n\t\t}else{//moveBy in neg\n\t\t\towner.regX = Math.abs(lc.x*.5);\n\t\t\towner.x = owner.x+owner.regX;\n\t\t}\n\t\tif (lc.y<0){//moveBy in the + direction Y\n\t\t\towner.regY =-Math.abs(lc.y*.5);\n\t\t\towner.y = owner.y+owner.regY;\n\t\t}else{//moveBy in neg\n\t\t\towner.regY=Math.abs(lc.y*.5);\n\t\t\towner.y=owner.y+owner.regY;\n\t\t}\n\t\tvar inX=Math.floor(lc.x);\n\t\tvar inY=Math.floor(lc.y)\n\t\towner.width=Math.abs(inX);\n\t\towner.height=Math.abs(inY);\n\t\tif (owner.width<10 || owner.height<10){\n\t\t\towner.parent.removeChild(owner);\n\t\t\tdelete owner;\n\t\t\treturn false;\n\t\t}\n\t\tMC.setStrokeStyle(strokeIn);\n\t\tMC.beginStroke(\'#\'+Math.floor(Math.random()*16777215).toString(16));  \n\t\tMC.beginFill(\'#\'+Math.floor(Math.random()*16777215).toString(16)); \n\t\tHTC.setStrokeStyle(strokeIn*2);\n\t\tHTC.beginStroke(\'#000\'); \n\t\tHTC.beginFill(\'red\');  \n        HTC.rect(0,0,inX,inY);\n\t\tMC.rect(0,0,inX,inY);\n\t\t\n        MC.endStroke();\n        HTC.endStroke();\n\t\tHTC.endFill(); \n\t\tMC.endFill(); \n\t\t//owner.cache(-strokeIn,-strokeIn,inX+strokeIn*2,inY+strokeIn*2);\n\t\towner.cache(-strokeIn+(inX<0?inX:0),-strokeIn+(inY<0?inY:0), owner.width+strokeIn*2,owner.height+strokeIn*2);\n\t\t//owner.setBounds(owner.x,owner.y,owner.width+strokeIn*2,owner.height+strokeIn*2);\n\t\t\n\t\treturn true;\n\t}\n\n\t\n\tp.circle = function(owner,fx,fy){\n\t\tvar lc=new createjs.Point(fx,fy);\n\t\t//var lc= owner.bg.globalToLocal(fx,fy);\n\t\t\n\t\tvar MC =owner.bg.graphics;\n\t\tMC.clear();\n\t\towner.points=[];\n\t\t\n\n\t\t\n\t\tMC.setStrokeStyle(5);\n\t\t\tMC.beginStroke(\'#\'+Math.floor(Math.random()*16777215).toString(16)); \n\t\t\tMC.beginFill(\'#\'+Math.floor(Math.random()*16777215).toString(16)); \n\t\t\tMC.drawEllipse(0,0,lc.x, lc.y);\n\t\towner.points.push(lc);\n\t\tMC.endStroke();\n\t\tMC.endFill(); \n\t}\n\tp.circlePerm = function(owner,shape,init){\n\t\tvar MC =owner.bg.graphics;\n\t\tvar HTC =owner.bg.hitArea.graphics;\n\t\tMC.clear();\n\t\tHTC.clear();\n\t\tvar tot = owner.points.length;\n\t\tif (tot==0){\n\t\t\tvar parentIN= owner.parent;\n\t\t\t//console.log(parentIN.getNumChildren());\n\t\t\towner.parent.removeChild(this);\n\t\t\t//console.log(parentIN.getNumChildren());\n\t\t\treturn false;\n\t\t}\n\t\t\n\t\tolc = owner.points[0];\n\t\tlc = window.WBdraw.ConfigWB.convert2pos(owner,olc);\n\t\tvar strokeIn=5;\n\t\tif (lc.x<0){//moveBy in the + direction X\n\t\t\towner.regX=-Math.abs(lc.x*.5);\n\t\t\towner.x=owner.x+owner.regX;\n\t\t}else{//moveBy in neg\n\t\t\towner.regX = Math.abs(lc.x*.5);\n\t\t\towner.x = owner.x+owner.regX;\n\t\t}\n\t\tif (lc.y<0){//moveBy in the + direction Y\n\t\t\towner.regY =-Math.abs(lc.y*.5);\n\t\t\towner.y = owner.y+owner.regY;\n\t\t}else{//moveBy in neg\n\t\t\towner.regY=Math.abs(lc.y*.5);\n\t\t\towner.y=owner.y+owner.regY;\n\t\t}\n\t\t\n\t\tvar inX=Math.floor(lc.x);\n\t\tvar inY=Math.floor(lc.y)\n\t\towner.width=Math.abs(inX);\n\t\towner.height=Math.abs(inY);\n\t\tif (owner.width<10 || owner.height<10){\n\t\t\towner.parent.removeChild(owner);\n\t\t\tdelete owner;\n\t\t\treturn false;\n\t\t}\n\t\t//owner.setBounds(owner.x,owner.y,Math.abs(inX),Math.abs(inY));\n\t\tMC.setStrokeStyle(strokeIn);\n\t\tMC.beginStroke(\'#\'+Math.floor(Math.random()*16777215).toString(16));  \n\t\tMC.beginFill(\'#\'+Math.floor(Math.random()*16777215).toString(16)); \n\t\tHTC.setStrokeStyle(strokeIn*2);\n\t\tHTC.beginStroke(\'#000\'); \n\t\tHTC.beginFill(\'red\');  \n        HTC.drawEllipse(0,0,inX,inY);\n\t\tMC.drawEllipse(0,0,inX,inY);\n\t\t\n\t\t//window.WBdraw.trace();\n\t\t\n        MC.endStroke();\n        HTC.endStroke();\n\t\tHTC.endFill(); \n\t\tMC.endFill(); \n\t\t\n\t\towner.cache(-strokeIn+(inX<0?inX:0),-strokeIn+(inY<0?inY:0), owner.width+strokeIn*2,owner.height+strokeIn*2);\n\t\treturn true;\n\t}\n\t\n\tp.star = function(owner,fx,fy){\n\t\tvar lc=new createjs.Point(fx,fy);\n\t\t//var lc= owner.bg.globalToLocal(fx,fy);\n\t\tvar sPos={};\n\t\tvar MC =owner.bg.graphics;\n\t\tMC.clear();\n\t\towner.points=[];\n\t\tMC.setStrokeStyle(5);\n\t\t\tMC.beginStroke(\'#\'+Math.floor(Math.random()*16777215).toString(16)); \n\t\t\tMC.beginFill(\'#\'+Math.floor(Math.random()*16777215).toString(16)); \n\t\t\tconsole.log("---=-=-=--=-=-=-=-=>>>>")\n\t\t\tsPos.radius=200*(fx/mainStage.canvas.width);  //max radius based on X\n\t\t\tsPos.pointy=.9*(fy/mainStage.canvas.height);   // max Point size based on Y\n\t\t\tsPos.points=5;\n\t\t\tMC.drawPolyStar(0, 0, sPos.radius, sPos.points, sPos.pointy, -90);\n\t\t\t//MC.drawPolyStar(0, 0, 50, 5, 0.6, -90);\n\t\towner.points.push(sPos);\n\t\tMC.endStroke();\n\t\tMC.endFill(); \n\t}\n\tp.starPerm = function(owner,shape,init){\n\t\tvar MC =owner.bg.graphics;\n\t\tvar HTC =owner.bg.hitArea.graphics;\n\t\tMC.clear();\n\t\tHTC.clear();\n\t\tvar tot = owner.points.length;\n\t\tif (tot==0){\n\t\t\tvar parentIN= owner.parent;\n\t\t\tconsole.log(parentIN.getNumChildren());\n\t\t\towner.parent.removeChild(this);\n\t\t\tconsole.log(parentIN.getNumChildren());\n\t\t\treturn false;\n\t\t}\n\t\tsPos = owner.points[0];\n\t\tvar strokeIn=5;\n\t\t\n\t\towner.width=Math.abs(Math.floor(sPos.radius*2));\n\t\towner.height=Math.abs(Math.floor(sPos.radius*2));\n\t\tMC.setStrokeStyle(strokeIn);\n\t\tMC.beginStroke(\'#\'+Math.floor(Math.random()*16777215).toString(16));  \n\t\tMC.beginFill(\'#\'+Math.floor(Math.random()*16777215).toString(16)); \n\t\tHTC.setStrokeStyle(strokeIn*2);\n\t\tHTC.beginStroke(\'#000\'); \n\t\tHTC.beginFill(\'red\');  \n        HTC.drawPolyStar(0, 0, sPos.radius, sPos.points, sPos.pointy, -90);\n\t\tMC.drawPolyStar(0, 0, sPos.radius, sPos.points, sPos.pointy, -90);\n\t\t\n\t\towner.x-=sPos.radius;\n\t\towner.y-=sPos.radius;\n\t\tthis.x+=sPos.radius;\n\t\tthis.y+=sPos.radius;\n\t\t/**/\n        MC.endStroke();\n        HTC.endStroke();\n\t\tHTC.endFill(); \n\t\tMC.endFill(); \n\t\treturn true;\n\t}\n\t\n\t\n\tp.destroy = function(fromJMS){\n\t\tthis.uncache();\n\t\tthis._commited = false;\n\t}\n\t\n\t\n\tscope.FormFill = createjs.promote(FormFill, "Container");\n}(window.WBdraw));\n\n//# sourceURL=webpack:///./js/wbFormFill.js?')},"./js/wbFormLine.js":/*!**************************!*\
  !*** ./js/wbFormLine.js ***!
  \**************************//*! no static exports found */function(module,exports){eval('(function(scope) {\n // \'use strict\';\n\t///var scope;// SAME AS static dynamic var\n\tfunction FormLine(id,type) {\n\t\tthis.Container_constructor();\n\t\tthis.id=this.name=id;\n\t\tthis.color = "";\n\t\tthis.type=type;\n\t\tthis.limitDraw=false;\n\t\tthis.rect=null;\n\t\tthis.segSize=12;\n\t\tthis.regX=0;\n\t\tthis.regY=0;\n\t\tthis.scaled=false;\n\t\tthis.rel={x:0,y:0};   \t\t//relative coordinates\n\t\tthis.text=null;\n\t\tthis.label="";\n\t\tthis.lastXY={x:0,y:0};\n\t\tthis.cacheXY={x:0, y:0};\n\t\tthis._commited = false; \n\t\tthis._listenMove=null;\n\t\tthis._listenEnd=null;\n\t\tthis.related=null;\n\t\tthis.bidirection=false;\n\t\tthis.elastic=true;\n\t\tthis.rotary=true;\n\t\tthis.setup();\n\t}\n\tcreatejs.EventDispatcher.initialize(FormLine.prototype);\n\tvar p = createjs.extend(FormLine, createjs.Container);\n\n\tp.setup = function() {\n\t\tthis.points=[];\n\t\t//this.l\n\tthis.bg = new createjs.Shape();\n\tthis.bg.snapToPixel=true;\n\tthis.hitHelper = new createjs.Shape();\n\tthis.hitHelper.snapToPixel=true;\n\tthis.bg.hitArea=this.hitHelper;\n\t\n\t\t//this.sqr  = new createjs.Shape();\n\t\t//propLine(this.sqr,{x:45,y:45},\'#000000\');\n\t\tthis.addChild(this.bg);//, this.sqr); \n\t\t\n\t\tthis.on("mousedown", this.handlePress.bind(this));\n\t\tthis.on("pressup", this.handleRelease.bind(this));\n\t\tthis.cursor = "pointer";\n\t\tthis.mouseChildren = false;\n\t\t\n\t\tthis.offset = Math.random()*10;\n\t\tthis.count = 0;\n\t\tif (this.type=="links") drawArrow(this);\n\t\tthis.status=window.WBdraw.FormProxy.NEW;\n\t} ;\n\t\n\tfunction drawArrow(owner){\n\t\towner.rotary=false;\n\t\towner.elastic=false;\n\t\towner.arrow  = new createjs.Shape();\n\t\towner.arrow.snapToPixel=true;\n\t\towner.ball  = new createjs.Shape();\n\t\towner.ball.snapToPixel=true;\n\t\t//owner.sqr  = new createjs.Shape();\n\t\t//owner.sqr2  = new createjs.Shape();\n\t\tpropArrow(owner.arrow,20,\'#000000\');\n\t\tpropBall(owner.ball,20,\'#000000\');\n\t\t//propSquare(owner.sqr,20,"#FF0000");\n\t\towner.addChild(owner.arrow, owner.ball);//, owner.sqr2); \n\t}\n\t\n\t/*function propLine(ball,size,color){\n\t\tvar MC = ball.graphics;\n\t\tMC.clear();\n\t\tvar hlf=-size*.5;\n\t\tMC.setStrokeStyle(5);\n\t\t\tMC.beginStroke(color); \n\t\t\tMC.rect(0,0,size.x, size.y);\n\t\t\t//MC.beginFill(color); \n\t\t\t//MC.drawEllipse(hlf,hlf,size,size);\n\t\tMC.endStroke();\n\t}*/\n\t\n\t/*function propSquare(ball,size,color){\n\t\tvar MC = ball.graphics;\n\t\tMC.clear();\n\t\tvar hlf=-size*.5;\n\t\tMC.setStrokeStyle(5);\n\t\t\tMC.beginStroke(color); \n\t\t\t//MC.beginFill(color); \n\t\t\tMC.drawEllipse(hlf,hlf,size,size);\n\t\tMC.endStroke();\n\t}\n\t\n\tfunction propSquare2(dd,size,pt,color){\n\t\tvar MC = dd.graphics;\n\t\t//MC.clear();\n\t\t//console.log\n\t\tvar hlf=-size*.5;\n\t\tMC.setStrokeStyle(5);\n\t\t\tMC.beginStroke(color); \n\t\t\t MC.setStrokeDash([20,10],3);\n\t\t\t console.log(pt);\n\t\t\tMC.drawEllipse(pt.x,pt.y,size,size);\n\t\t\t//MC.mt(20,20);  // same as moveTo\n\t\t\t//MC.lineTo(260,20);\n\t\tMC.endStroke();\n\t}*/\n\tfunction propArrow(arrow,size, color){\n\t\tvar MC = arrow.graphics;\n\t\tMC.clear();\n\t\tMC.setStrokeStyle(5);\n\t\t\tMC.beginStroke(color); \n\t\t\tMC.beginFill(color); \n\t\t\tMC.moveTo(-size,size);\n\t\t\tMC.lineTo(0,0);\n\t\t\tMC.lineTo(-size,-size);\n\t\tMC.endStroke();\n\t\tMC.endFill(); \n\t}\n\tfunction propBall(ball,size, color){\n\t\tvar MC = ball.graphics;\n\t\tMC.clear();\n\t\tvar hlf=-size*.5;\n\t\tMC.setStrokeStyle(5);\n\t\t\tMC.beginStroke(color); \n\t\t\tMC.beginFill(color); \n\t\t\tMC.drawEllipse(hlf,hlf,size,size);\n\t\tMC.endStroke();\n\t\tMC.endFill(); \n\t}\n\tfunction positionEnds(owner,from,to){\n\t\tvar angle=window.WBdraw.ConfigWB.rotateAngle(from,to);\n\t\tconsole.log(angle);\n\t\towner.arrow.rotation=angle;\n\t\towner.ball.rotation=180+angle;\n\t\towner.ball.x=0;\n\t\towner.ball.y=0;\n\t\towner.arrow.x=to.x-from.x;\n\t\towner.arrow.y=to.y-from.y;\n\t}\n\n\tp.drawTemp= function (fx,fy) {\n\t\tthis._commited = false;\n\t\t//console.log("drawtemp__"+this.type+"__");\n\t\tp[this.type](this,fx,fy);\n\t}\n\tp.linked = function(){\n\t\tconsole.log(this.related);\n\t\treturn (this.related!=null? (this.related.from!=null):false)\n\t}\n\tp.link = function (shape){\n\t\t\tvar Obj={from:null,to:null}\n\t\t\tif (this.related!=null){\n\t\t\t\tObj=this.related;\t\n\t\t\t\tif (Obj.from==shape){\n\t\t\t\t\tconsole.log("[E]  -->SAME shape AS to");\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (Obj.to!=null && Obj.from!=null)//Avoid multiple sets \n\t\t\t\t\treturn true;\n\t\t\t\tObj.to=shape;\n\t\t\t\tconsole.log(Obj);\n\t\t\t\tlistenersAdd(this,Obj.to,Obj.from);\n\t\t\t\tfinalIn = this.linksPerm(this,Obj.to,Obj.from,this.bidirection);\n\t\t\t\t\n\t\t\t\tif (finalIn)\n\t\t\t\t\tthis.commit(window.WBdraw.FormProxy.UPDATE);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t//TODO: draw final And commit\n\t\t\t}else{\n\t\t\t\tObj.from=shape;\n\t\t\t\tthis.related=Obj;\n\t\t\t}\n\t\treturn false;\n\t}\n\t\n\tfunction listenersAdd(owner,to, from) {\n\t\t\t//console.log("(CNT) @@@@@@@@@@   ADD LISTENERS");\n\t\t\towner._listenMove=moveForm.bind(owner);\n\t\t\towner._listenEnd=moveCompleted.bind(owner);\n\t\t\tif (!BrowserDetect.isIOS()){\n\t\t\t\tif (BrowserDetect.isChrome()){ \n\t\t\t\t\tto.addEventListener("MoveEvent",owner._listenMove);\n\t\t\t\t\tfrom.addEventListener("MoveEvent", owner._listenMove);\n\t\t\t}}\n\t\t\tto.addEventListener("CommitEvent", owner._listenEnd);\n\t\t\tfrom.addEventListener("CommitEvent", owner._listenEnd);\n\t\t}\t\n\tfunction listenersRemove(owner,to, from) {\n\t\t\t//console.log("(CNT)  $$$$$$$$$$$$  REMOVE LISTENERS");\n\t\t\tif (to){\n\t\t\t\tif (!BrowserDetect.isIOS()){\n\t\t\t\t\tif (BrowserDetect.isChrome()){ \n\t\t\t\t\tto.removeEventListener("MoveEvent", owner._listenMove);\n\t\t\t\t}}\n\t\t\t\tto.removeEventListener("CommitEvent", owner._listenEnd);\n\t\t\t}\n\t\t\tif (!BrowserDetect.isIOS()){\n\t\t\t\tif (BrowserDetect.isChrome()){ \n\t\t\t\tfrom.removeEventListener("MoveEvent", owner._listenMove);\n\t\t\t}}\n\t\t\tfrom.removeEventListener("CommitEvent", owner._listenEnd);\n\t}\n\t\n\tfunction moveForm(event){\n\t\t//console.log("(CNT) [[moveForm]] LISTENERS"+this);\n\t\tconsole.log(event);\n\t\tthis.moveLink(this, window.WBdraw.FormProxy.UPDATE);\n\t}\n\n\tfunction moveCompleted(event){\n\t\t\t//console.log("(CNT) [[moveCompleted]] LISTENERS"+this);\n\t\t\tif (event.action==window.WBdraw.FormProxy.DELETE){\n\t\t\t\tthis._commited=false;\n\t\t\t\tthis.commit(event.action);\n\t\t\t\tif (this.parent)\n\t\t\t\t\tthis.parent.removeChild(this);\n\t\t\t\tthis.destroy(false);\n\t\t\t}else{\n\t\t\t\tthis.moveLink(this,window.WBdraw.FormProxy.UPDATE);\t\n\t\t\t}\n\t\t\t\n\t\t//positionEnds(this,this.related.from, this.related.to);\n\t\tconsole.log(event);\n\t}\n\t\n\tfunction pointOnLine2(from,to,x){\n\t\tvar m = (from.y-to.y)/(from.x-to.x);\n\t\tvar c = from.y-from.x*m;\n\t\tvar y = m*x+c;\n\t\treturn y \n\t}\t\n\tfunction pointOnLine(from,to,x){\n\t\tvar ax=to.x-from.x;   \n\t\tvar ay=to.y-from.y;\n\t\tvar nz={x:0,y:0};\n\t\tvar m = (nz.y-ay)/(nz.x-ax);\n\t\treturn x*m; \n\t}\n\n\t\n\tp.moveLink = function (owner,action){\n\t\tvar a =  owner.related.to;\n\t\tvar b =  owner.related.from;\n\t\towner.x= b.x;\n\t\towner.y=b.y;\n\t\t\n\t\t\t\n\t\t\towner.points=[];\n\t\t\towner.points.push(new createjs.Point(a.x-b.x,a.y-b.y));\n\t\t\towner.linksPerm(owner,false);\n\t\t\t//moveBy arrow And ball accordingly\n\t\tif (action!=null){//now find hit points to correctly resize the line between the objects\n\t\t\t\n\t\t\towner.commit(action);\n\t\t}\n\t\t//positionEnds(owner,owner.related.from, owner.related.to);\n\t}\n\t\n\t\n\tp.drawPerm= function (shape,init) {\n\t\tif (shape.id !=this.id)\n\t\t\treturn;\n\t\ttry{\n\t\t\tvar finalIn=p[this.type+"Perm"](this,shape,init);\n\t\t}catch(err){\n\t\t\tconsole.log(err);\n\t\t\tthrow "[E] No function matches:"+this.type+"Perm() in FormLine (wbFormLine.js)";\n\t\t\t\n\t\t}\n\t\t \n\t\tif (finalIn)\n\t\t\tthis.commit(window.WBdraw.FormProxy.UPDATE);\n\t}\n\n\tp.EMPTY = function (){\n\t\treturn false;\n\t}\n\tp.commit = function (action){\n\t\tif (action=="blur")\n\t\t\treturn;\n\t\t   var myevent = {\n\t\t\t type: "CommitEvent",\n\t\t\t param: this,\n\t\t\t action:action\n\t\t   };\n\t\tthis.dispatchEvent(myevent);\n\t}\n\t\n\tp.width=0;\n\tp.height=0;\n\t\n\tp.scaleState = function (scld){\n\t\tthis.scaled=scld;\n\t\tthis.scaleX=this.scaleY=1;\n\t}\n\tp.setSize = function (width,height,color){\n\t\t\n\t}\n\tp.getWidth = function(){\n\t\treturn width;\n\t}\n\n\tp.moveSTART = function (event){\n\t\tevent.stopImmediatePropagation();\n\t\tvar mStage = event.target;\t\t\n\t\tvar target, targets = mStage.getObjectsUnderPoint(mStage.mouseX, mStage.mouseY, 1);\n        for (var i=0; i<targets.length; i++) {\n            if (targets[i].parent.scaled) {\n                target = targets[i].parent;\n                break;\n            }\n        }\n\n        if (target != null) {\n\t\t\ttarget.x=mStage.mouseX-target.rel.x+target.regX;\n\t\t\ttarget.y=mStage.mouseY-target.rel.y+target.regY;\n\t\t\t//console.log(target.rel+","+target.regX);\n\t\t\t//mainStage.update();\n\t\t}\n\t}\n\tp.moveEND = function(event){\n\t\tvar mStage = event.target;\n\t\tif (this.x==this.lastXY.x && this.y==this.lastXY.y){\n\t\t\treturn;\n\t\t}\n\t\tvar target, targets = mStage.getObjectsUnderPoint(mStage.mouseX, mStage.mouseY, 1);\n        for (var i=0; i<targets.length; i++) {\n            if (targets[i].parent.scaled) {\n                target = targets[i].parent;\n                break;\n            }\n        }\n        if (target != null) {\n\t\t\ttarget.scaled=false;\n\t\tcreatejs.Tween.get(target,{override:true}).to({scaleX:1, scaleY:1},100,createjs.Ease.quadIn);\n\t\t}\n\t\t // console.log("...moved....");\n\t\tthis.commit(window.WBdraw.FormProxy.MOVED);\n\t\tthis.lastXY.x=this.x;\n\t\tthis.lastXY.y=this.y;\n\t\t//event.stopImmediatePropagation();\n\t}\n\t\n\n\t\n\t\n\tp.handlePress = function(event){\n\t\t  //console.log("...handlePress....");\n\t   var mevt = {\n\t\t type: "PressEvent", \n\t\t param: this\n\t   };\n\t\t//if (!this.scaled)\n\t\tevent.stopImmediatePropagation();\n\t   this.dispatchEvent(mevt);\n\t}\n\t\n\tp.handleRelease = function(event){\n\t   var mevt = {\n\t\t type: "ReleaseEvent", \n\t\t param: this\n\t   };\n\t\tevent.stopImmediatePropagation();\n\t   this.dispatchEvent(mevt);\n\t}\n\t\n\n\n\tp.handleRollOver = function(event) {       \n\t\tthis.alpha = event.type == "rollover" ? 0.4 : 1;\n\t};\n\n\t\n\t\n\tp.straight =  function (owner,fx,fy){\n\t\t\n\t\tvar lc=new createjs.Point(fx,fy);\n\t\t//var lc= owner.bg.globalToLocal(fx,fy);\n\t\tvar MC =owner.bg.graphics;\n\t\tMC.clear();\n\t\towner.points=[];\n\t\tMC.setStrokeStyle(5);\n\t\td= Math.sqrt( (lc.x)*lc.x + (lc.y)*lc.y );\n\t\tr = d%owner.segSize;\n\t\ttot =d/owner.segSize;\n\t\tvar lastX=0;\n\t\tvar lastY=0;\n\t\tfor (var i=0;i<tot; ++i){\n\t\t\tvar x=lc.x*(i/tot);\t\n\t\t\tvar y=lc.y*(i/tot);\t\n\t\t\tMC.beginStroke(\'#\'+Math.floor(Math.random()*16777215).toString(16)); \n\t\t\tMC.moveTo(lastX,lastY); \n\t\t\tMC.lineTo(x, y);\n\t\t\tlastX = x;\n\t\t\tlastY = y;\n\t\t}\n\t\tMC.moveTo(lastX,lastY); \n\t\tMC.lineTo(lc.x, lc.y);\n\t\towner.points.push(lc);\n\t\tMC.endStroke();\n\t\t\n\t}\n\t\t\n\n\tp.straightPerm = function(owner,shape,init){\n\t\tvar MC =owner.bg.graphics;\n\t\tvar HTC =owner.bg.hitArea.graphics;\n\t\tMC.clear();\n\t\tHTC.clear();\n\t\tvar tot = owner.points.length;\n\t\t//console.log(tot);\n\t\t//console.log(">>>>>>>>>>>>> what???>>>>>>>"+owner.points);\n\t\tif (tot==0){\n\t\t\tvar parentIN= owner.parent;\n\t\t\t//console.log(parentIN.getNumChildren());\n\t\t\towner.parent.removeChild(this);\n\t\t\t//console.log(parentIN.getNumChildren());\n\t\t\treturn false;\n\t\t}\n\t\tolc = owner.points[0];\n\t\tlc = window.WBdraw.ConfigWB.convert2pos(owner,olc);\n\t\tvar oc={x:0,y:0};\n\t\t//this now means that \n\t\tif (lc.x<0){//moveBy in the + direction X\n\t\t\towner.regX=Math.abs(lc.x)*.5;\n\t\t\towner.bg.x=Math.abs(lc.x);\n\t\t\towner.x=owner.x-owner.bg.x;\n\t\t}else{//moveBy in neg\n\t\t\towner.regX = Math.abs(lc.x*.5);\n\t\t}\n\t\towner.x = owner.x+owner.regX;\n\t\t\n\t\tif (lc.y<0){//moveBy in the + direction Y\n\t\t\towner.regY =Math.abs(lc.y)*.5;\n\t\t\towner.bg.y=Math.abs(lc.y);\n\t\t\towner.y=owner.y-owner.bg.y;\n\t\t}else{//moveBy in neg\n\t\t\towner.regY=Math.abs(lc.y*.5);\n\t\t}\n\t\towner.y=owner.y+owner.regY;\n\t\t\n\t\tvar inX=Math.floor(lc.x);\n\t\tvar inY=Math.floor(lc.y)\n\t\tvar strokeIn=5;\n\t\tMC.setStrokeStyle(strokeIn); \n\t\towner.color=\'#\'+Math.floor(Math.random()*16777215).toString(16);\n\t\tMC.beginStroke(owner.color);\n\t\tHTC.setStrokeStyle(strokeIn*2);\n\t\tHTC.beginStroke(\'#000\'); \n\t\tHTC.beginFill(\'red\');  \n        HTC.moveTo(0,0);\n        MC.moveTo(0,0);\n\t\tMC.lineTo(lc.x, lc.y);\n\t\tHTC.lineTo(lc.x, lc.y);\n\t\t\n\t\t\n        MC.endStroke();\n        HTC.endStroke();\n\t\tHTC.endFill(); \n\t\t\n\t\towner.setDimension(owner,lc.x,lc.y,(inX<0?inX:0),(inY<0?inY:0));\n\t\t\n\t\t//owner.cache(-strokeIn+owner.bg.x*1,-strokeIn+owner.bg.y*1, (owner.bg.x>0?-1:1)*(owner.width+strokeIn*2),(owner.bg.y>0?-1:1)*(owner.height+strokeIn*2));\n\t\t//owner.cache((owner.bg.x>0?-1:1)*-strokeIn+(inX<0?inX:0),(owner.bg.y>0?-1:1)*-strokeIn+(inY<0?inY:0), (owner.bg.x>0?-1:1)*(owner.width+strokeIn*2),(owner.bg.y>0?-1:1)*(owner.height+strokeIn*2));\n\t\t//console.log(propLine);\n\t\t//owner.sqr.x=owner.bg.x;\n\t\t//owner.sqr.y=owner.bg.y;\n\t\t//propLine(owner.sqr, {x:owner.width, y:owner.height}, "#0000FF");\n\t\t\n\t\towner.cache(-strokeIn,-strokeIn, owner.width+strokeIn*2,owner.height+strokeIn*2);\n\t\t\n\t\t//owner.cache(-strokeIn-owner.bg.x,-strokeIn-owner.bg.y, (owner.bg.x>0?-1:1)*owner.width+strokeIn*2, (owner.bg.y>0?-1:1)*owner.height+strokeIn*2);\n\t\t//owner.cache(-strokeIn+(owner.bg.x>0?-1:1)*owner.cacheXY.x,-strokeIn+(owner.bg.y>0?-1:1)*owner.cacheXY.y, (owner.bg.x>0?-1:1)*owner.width+strokeIn*2, (owner.bg.y>0?-1:1)*owner.height+strokeIn*2);\n\t\t//owner.cache(-strokeIn+(inX<0?inX:0),-strokeIn+(inY<0?inY:0), -owner.width+strokeIn*2,-owner.height+strokeIn*2);\n\t\treturn true;\n\t}\n\t\n\tp.free = function(owner,fx,fy){\n\t\t\n\t\tvar MC =owner.bg.graphics;\n\t\tvar lp = owner.points[owner.points.length-1]; \n\t\tvar d=0;\n\t\tvar lc=new createjs.Point(fx,fy);\n\t\t//var lc= owner.bg.globalToLocal(fx,fy);\n\t\t//console.log(fx+","+fy);\n\t\t//console.log(lc);\n\t\tMC.setStrokeStyle(5);\n\t\tMC.beginStroke(\'#\'+Math.floor(Math.random()*16777215).toString(16));  \n\t\tif (lp==undefined)\n\t\t\tlp = new createjs.Point(0,0);\n\t\tvar x1=lc.x;\n\t\tvar y1=lc.y;\n\t\tvar x2=lp.x;\n\t\tvar y2=lp.y;\n\t\td =  Math.sqrt( (x2-=x1)*x2 + (y2-=y1)*y2 );\n\t\tif (d>owner.segSize){\n\t\t\tMC.moveTo(lp.x, lp.y);\n\t\t\tMC.lineTo(lc.x, lc.y);\n\t\t\tMC.endStroke();\n\t\t\towner.points.push(lc);\n\t\t}\n\t\t//console.log(d);\n\t};\t\n\tp.freePerm = function (owner,shape,init){\n\t\tvar MC =owner.bg.graphics;\n\t\tvar HTC =owner.bg.hitArea.graphics;\n\t\t//console.log(owner);\n\t\tvar tot = owner.points.length;\n\t\tif (tot==0){\n\t\t\tvar parentIN= owner.parent;\n\t\t\t//console.log(parentIN.getNumChildren());\n\t\t\towner.parent.removeChild(this);\n\t\t\t//console.log(parentIN.getNumChildren());\n\t\t\treturn false;\n\t\t}\n\t\tvar lp = new createjs.Point(0,0); \n\t\tMC.clear();\n\t\tvar strokeIn=5;\n\t\tMC.setStrokeStyle(strokeIn);\n\t\tMC.beginStroke(\'#\'+Math.floor(Math.random()*16777215).toString(16));  \n\t\tHTC.setStrokeStyle(strokeIn*2);\n\t\tHTC.beginStroke(\'#000\'); \n\t\tHTC.beginFill(\'red\');  \n\t\tvar maxY=0;\n\t\tvar maxX=0;\n\t\tvar lowX=0;\n\t\tvar lowY=0;\n\t\tvar negX=0;\n\t\tvar negY=0;\n\t\tfor (var i=0;i<tot;++i){\n\t\t\tvar cp=owner.points[i];\n\t\t\tif (cp.x>maxX) maxX=cp.x;\n\t\t\tif (cp.y>maxY) maxY=cp.y;\n\t\t\tif (cp.x<lowX) lowX=cp.x;\n\t\t\tif (cp.y<lowY) lowY=cp.y;\n\t\t}\n       // HTC.moveTo(0, 0);\n       // MC.moveTo(0, 0);\n\t\tif (lowX<0){negX=lowX; }\n\t\tif (lowY<0){negY=lowY}\n\t\tfor (var i=0;i<tot;++i){\n\t\t\towner.points[i].x+=Math.abs(negX);\n\t\t\towner.points[i].y+=Math.abs(negY);\n\t\t\tvar cp=owner.points[i];\n\t\t\tif (i==0){\n\t\t\t\tHTC.moveTo(cp.x,cp.y);\n\t\t\t\tMC.moveTo(cp.x,cp.y);\n\t\t\t}\n\t\t\tMC.lineTo(cp.x,cp.y);\n\t\t\tHTC.lineTo(cp.x,cp.y);\n\t\t\t//var d = Math.sqrt( (x2-=x1)*x2 + (y2-=y1)*y2 );\n\t\t}\n\t\t//(lowX,lowY)(addx,addx)\n\t\t/*owner.bg.x=(lowX<0?Math.abs(lowX):0);\n\t\towner.bg.y=(lowY>0?Math.abs(lowY):0);\n\t\t*/\n\t\t\n        MC.endStroke();\n        HTC.endStroke();\n\t\tHTC.endFill(); \n\t\towner.x+=negX;\n\t\towner.y+=negY;\n\t\towner.rect= new createjs.Rectangle(0,0,Math.abs(negX)+maxX,Math.abs(negY)+maxY);\n\t\tvar xMid = owner.rect.width*.5;\n\t\tvar yMid =  owner.rect.height*.5;\n\t\towner.x-=xMid;\n\t\towner.y-=yMid;\n\t\t\n\t\t//owner.bg.hitArea.x=owner.bg.x;\n\t\t//owner.bg.hitArea.y=owner.bg.y;\n\n\t\t\towner.regX=xMid;\n\t\t\towner.x+=xMid*2;\n\t\t\towner.regY=yMid;\n\t\t\towner.y+=yMid*2;\n\t\towner.setDimension(owner,owner.rect.width,owner.rect.height);\n\t\tconsole.log(owner.points);\n\t\t//owner.cache(-strokeIn+(inX<0?inX:0),-strokeIn+(inY<0?inY:0), owner.width+strokeIn*2,owner.height+strokeIn*2);\n\t\towner.cache(-strokeIn,-strokeIn,owner.rect.width+strokeIn*2, owner.rect.height+strokeIn*2);\n\t\treturn true;\n\t};\n\n\tp.bezier = function(owner,fx,fy){\n\t\tvar sPos={};\n\t\tvar pos={};\n\t\tsPos.x=0;\n\t\tsPos.y=0;\n\t\tvar MC =owner.bg.graphics;\n\t\tvar lc=new createjs.Point(fx,fy);\n\t\t//var lc= owner.bg.globalToLocal(fx,fy);\n\t\tMC.clear();\n\t\towner.points=[];\n\t\tMC.setStrokeStyle(5);\n\t\t\n\t\tvar Xing=Math.round(lc.x);\n\t\tvar Ying=Math.round(lc.y);\n\t\tsPos.fx=pos.fx=Xing;\n\t\tsPos.cx=pos.cx=sPos.fx;\n\t\tsPos.fy=pos.fy=Ying;\n\t\tsPos.cy=pos.cy=sPos.y;\n\t\t\n\t\t\tMC.setStrokeStyle(1);\n\t\t\tMC.beginStroke(\'#\'+Math.floor(Math.random()*16777215).toString(16)); \n\t\t\tMC.moveTo(sPos.fx, sPos.fy);\n\t\t\tMC.lineTo(sPos.cx, sPos.cy);\n\t\t\tMC.lineTo(sPos.x, sPos.y);\n\t\t\tMC.setStrokeStyle(5);\n\t\t\tMC.bezierCurveTo(sPos.fx, sPos.fy,sPos.cx, sPos.cy,sPos.x,sPos.y);\n\t\towner.points.push(sPos);\n\t\tMC.endStroke();\n\t\t//owner.height =sPos.fy;\n\t\t//owner.width=sPos.cx\n\t\t//console.log(owner.width+"x"+owner.height);\n\t};\t\n\tp.bezierPerm = function (owner,shape,init){//http://blog.sklambert.com/finding-the-control-points-of-a-bezier-curve/\n\t\tvar tot = owner.points.length;\n\t\tvar strokeIn=5;\n\t\tvar MC =owner.bg.graphics;\n\t\tvar HTC =owner.bg.hitArea.graphics;\n\t\tMC.clear();\n\t\tHTC.clear();\n\t\tif (tot==0){\n\t\t\tvar parentIN= owner.parent;\n\t\t\tconsole.log(parentIN.getNumChildren());\n\t\t\towner.parent.removeChild(this);\n\t\t\tconsole.log(parentIN.getNumChildren());\n\t\t\treturn false;\n\t\t}\n\t\tvar sPos=owner.points[0];\n\t\tHTC.setStrokeStyle(strokeIn*5);\n\t\tHTC.beginStroke(\'#000\'); \n\t\tMC.setStrokeStyle(strokeIn);\n\t\tMC.beginStroke(\'#\'+Math.floor(Math.random()*16777215).toString(16)); \n\t\tMC.bezierCurveTo(sPos.fx, sPos.fy,sPos.cx, sPos.cy,sPos.x,sPos.y);\n\t\tHTC.bezierCurveTo(sPos.fx, sPos.fy,sPos.cx, sPos.cy,sPos.x,sPos.y);\n        MC.endStroke();\n        HTC.endStroke();\n\t\towner.setDimension(owner,sPos.cx,sPos.fy);\n\t\t//TODO:  set Bezier in positive space and use CACHE\n\t\t//owner.cache(-strokeIn+(inX<0?inX:0),-strokeIn+(inY<0?inY:0), owner.width+strokeIn*2,owner.height+strokeIn*2);\n\t\t//owner.cache(-strokeIn,-strokeIn,sPos.cx+strokeIn*2, sPos.fy+strokeIn*2);\n\t\treturn true;\n\t}\n\t//connector\n\tp.links = function(owner,fx,fy){\t\t\n\t\tvar lc=new createjs.Point(fx,fy);\n\t\t//var lc= owner.bg.globalToLocal(fx,fy);\n\t\tvar MC =owner.bg.graphics;\n\t\tMC.clear();\n\t\tconsole.log("     >>> >> >     connector connecting");\n\t\towner.points=[];\n\t\tMC.setStrokeStyle(5);\n\t\td= Math.sqrt( (lc.x)*lc.x + (lc.y)*lc.y );\n\t\tr = d%owner.segSize;\n\t\tvar lastX=0;\n\t\tvar lastY=0;\n\t\tvar rX=(lc.x>0?-1:1)*10;\n\t\tvar rY=(lc.y>0?-1:1)*10;\n\t\ttot =(d/owner.segSize);\n\t\tfor (var i=0;i<tot; ++i){\n\t\t\tvar x=lc.x*(i/tot)+rX;\t\n\t\t\tvar y=lc.y*(i/tot)+rY;\t\n\t\t\tMC.beginStroke(\'#\'+Math.floor(Math.random()*16777215).toString(16)); \n\t\t\tMC.moveTo(lastX,lastY); \n\t\t\tMC.lineTo(x, y);\n\t\t\tlastX = x;\n\t\t\tlastY = y;\n\t\t}\n\t\tMC.moveTo(lastX+rX,lastY+rY); \n\t\tMC.lineTo(lc.x+rX, lc.y+rY);\n\t\towner.points.push(lc);\n\t\tMC.endStroke();\n\t    positionEnds(owner,{x:0,y:0}, {x:lc.x+rX, y:lc.y+rY});\n\t}\t\n\t\n\tfunction linkFinal(owner,shape,sych){\n\t\tvar MC =owner.bg.graphics;\n\t\tvar HTC =owner.bg.hitArea.graphics;\n\t\tMC.clear();\n\t\tHTC.clear();\n\t\tlc = owner.points[0];\n\t\tif (lc.x<0){//moveBy in the + direction X\n\t\t\towner.regX=-Math.abs(lc.x*.5);\n\t\t}else{//moveBy in neg\n\t\t\towner.regX = Math.abs(lc.x*.5);\n\t\t}\n\t\towner.x = owner.x+owner.regX;\n\t\tif (lc.y<0){//moveBy in the + direction Y\n\t\t\towner.regY =-Math.abs(lc.y*.5);\n\t\t}else{//moveBy in neg\n\t\t\towner.regY=Math.abs(lc.y*.5);\n\t\t}\n\t\towner.y=owner.y+owner.regY;\n\t\t\n\t\tvar inX=Math.floor(lc.x);\n\t\tvar inY=Math.floor(lc.y)\n\t\tvar strokeIn=5;\n\t\tif (sych!=true){\n\t\t\tMC.setStrokeStyle(strokeIn); \n\t\t\towner.color=\'#\'+Math.floor(Math.random()*16777215).toString(16);\n\t\t\tMC.beginStroke(owner.color);\n\t\t\tHTC.setStrokeStyle(strokeIn*2);\n\t\t\tHTC.beginStroke(\'#000\'); \n\t\t\tHTC.beginFill(\'red\');  \n\t\t\tHTC.moveTo(0, 0);\n\t\t\tMC.moveTo(0, 0);\n\t\t\tMC.lineTo(lc.x, lc.y);\n\t\t\tHTC.lineTo(lc.x, lc.y);\n\t\t\tMC.endStroke();\n\t\t\tHTC.endStroke();\n\t\t\tHTC.endFill(); \n\t\towner.setDimension(owner,lc.x,lc.y,(inX<0?inX:0),(inY<0?inY:0));\n\t\t}\n\t}\n\t\n\tp.linksPerm = function(owner,init){\n\t\t\n\t\tvar strokeIn=5;\n\t\tvar to=owner.related.to;\n\t\tvar from=owner.related.from;\n\t\t\n\t\t\n\t\t//positionEnds(owner,from, to);\n\t\towner.points=[];\n\t\tpositionEnds(owner,from, to);\n\t\towner.points.push({x:owner.arrow.x , y: owner.arrow.y});\n\t\tlinkFinal(owner,owner,true);\n\t\t\n\t\t\n\t\t// ## START SEARCH FOR TOUCH POINTS  ##//\n\t\tvar gaps=6;\n\t\t var zz=window.WBdraw.ConfigWB.lineInterpolate(owner, to.x-from.x , to.y-from.y , gaps);\n\t\t owner.related.a = zz;\n\t\tvar a = (owner.related.a?owner.related.a:[]);\n\t\t//var mc = owner.sqr2.graphics;\n\t\t//this.sqr2.x=owner.sqr2.y=0;\n\t\t\n\t\tif (a.length>0)\n\t\t\tvar mpt = {x:a[a.length-1].x*.5,y:a[a.length-1].y*.5}\n\t\t// mc.clear();\n\t\t var tor={x:0,y:0,d:10000000};\n\t\t var fromr={x:0,y:0,d:10000000};\n\t\t for (var i=0;i<a.length;++i){\n\t\t\tvar gx=a[i].x;\n\t\t\tvar gy=a[i].y;\n\t\t\t\n\t\t\tvar pt = owner.bg.localToLocal(gx,gy,to.bg);\n\t\t\tvar ptb = owner.bg.localToLocal(gx,gy,from.bg); \n\t\t\tif(to.bg.hitTest(pt.x,pt.y)){//find smallest distance from MID point  (increasing or decreasing?)\n\t\t\t\tvar d = Math.sqrt( (mpt.x-gx)*(mpt.x-gx) + (mpt.y-gy)*(mpt.y-gy) );\n\t\t\t\tif (d<tor.d){\n\t\t\t\t\ttor.x=gx;\n\t\t\t\t\ttor.y=gy;\n\t\t\t\t\ttor.d=d;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(from.bg.hitTest(ptb.x,ptb.y)){//find smallest distance from MID point  (increasing or decreasing?)\n\t\t\t\tvar d2 = Math.sqrt( (mpt.x-gx)*(mpt.x-gx) + (mpt.y-gy)*(mpt.y-gy) );\n\t\t\t\tif (d2<fromr.d){\n\t\t\t\t\tfromr.x=gx;\n\t\t\t\t\tfromr.y=gy;\n\t\t\t\t\tfromr.d=d2;\n\t\t\t\t}\n\t\t\t}\n\t\t }\n\t\t// ## END SEARCH FOR TOUCH POINTS  ##//\n\t\t\n\t\t// propSquare2(owner.sqr2,20,{x:tor.x,y:tor.y},"#0000FF");\n\t\t //propSquare2(owner.sqr2,20,{x:fromr.x,y:fromr.y},"#0000FF");\n\t\t var ddpt2=owner.bg.localToLocal(tor.x,tor.y,owner.parent);\n\t\t var ddpt=owner.bg.localToLocal(fromr.x,fromr.y,owner.parent);\n\t\t\n\t\t\n\t\tpositionEnds(owner,fromr, tor);\n\t\t//positionEnds(owner,from, to);\n\t\towner.points=[];\n\t\towner.points.push({x:owner.arrow.x , y: owner.arrow.y});\n\t\t\n\t\towner.x=ddpt.x;\n\t\towner.y=ddpt.y;\n\t\tlinkFinal(owner,owner,false);\n\t\t\n\t\tpropArrow(owner.arrow,20,owner.color);\n\t\tif (owner.bidirection){\n\t\t\tpropArrow(owner.ball,20,owner.color);\n\t\t}else{\n\t\t\tpropBall(owner.ball,20,owner.color);\n\t\t}\n\t\t\n\t\towner.uncache();\n\t\t//var chX=(owner.arrow.x<owner.ball.x?owner.arrow.x:owner.ball.x);\n\t\t//var chY=(owner.arrow.y<owner.ball.y?owner.arrow.y:owner.ball.y);\n\t\t\n\t\t\n\t\towner.cache(-strokeIn+owner.cacheXY.x-10,-strokeIn+owner.cacheXY.y-10, owner.width+strokeIn*2+20,owner.height+strokeIn*2+20);\n\t\t\n\t\treturn true;\n\t}\n\t\n\n\n\t\n\tp.setDimension = function (owner,w,h,cx,cy){\n\t\towner.width=Math.abs(w);\n\t\towner.height =Math.abs(h);\n\t\towner.cacheXY={x:cx,y:cy};\n\t\tconsole.log(owner.width+"x"+owner.height);\n\t}\n\n\tp.destroy = function(fromJMS){\n\t\tthis.uncache();\n\t\tthis._commited = false;\n\t\tif (this.type=="links")\n\t\t\tlistenersRemove(this,this.related.to,this.related.from);\n\t\t\t\n\t\tconsole.log(" delete link in FormLine................................");\n\t\t\n\t}\n\t\n\n\tscope.FormLine = createjs.promote(FormLine, "Container");\n}(window.WBdraw));\n\n//# sourceURL=webpack:///./js/wbFormLine.js?')},"./js/wbFormProxy.js":/*!***************************!*\
  !*** ./js/wbFormProxy.js ***!
  \***************************//*! no static exports found */function(module,exports){eval('(function(scope) {\n\n\t/**\n\t * FormProxy represents a transport form of the in memory objects for WBoard\n\t */\n\t \n\tfunction s(dude,no){\n\t\tconsole.log("hellow NO dude");\n\t\tthis.segSize=3;\n\t\t\n\t\tthis.id=this.name=null;\n\t\tthis.color = EMPTY;\n\t\tthis.type=null;\n\t\tthis.label=EMPTY;\n\t\tthis.status=EMPTY;\n\t\tthis.tab=null;\n\t\tthis.pod=null;\n\t\tthis.x=0;\n\t\tthis.y=0;\n\t\tthis.type=EMPTY;\n\t\tthis.points=EMPTY;\n\t\tthis.related=EMPTY;\n\t\tthis.biderectional=false;\n\t} \n\t//var s = {};\n\t\n\tvar EMPTY="";\n\ts.NEW = 1;\n\ts.UPDATE = 2;\n\ts.DELETE = 3;\n\ts.CLEAR = 4;\n\ts.ORDER = 5;\n\ts.STATISTIC = 6;\n\ts.DELETE_SELECTABLE_AREA = 7;\n\ts.MOVED = 2;\n\t\n\ts.setup = function() {\n\t \n\t\n\t// Public properties:\n\t}\n\n/*\n\ts.isIE = function () {\n\t\treturn s.browser == \'Explorer\';\n\t};\n\n\ts.isVista = function() {\n\t\treturn navigator.userAgent.indexOf(\'Windows NT 6.0\') != -1;\n\t};\n\n*/\n\n\n\n// Public methods:\n\n\t/*s.init = function () {\n\t\ts.browser = s._searchString(s._dataBrowser) || "An unknown browser";\n\t\ts.version = s._searchVersion(navigator.userAgent) || s._searchVersion(navigator.appVersion) || "An unknown version";\n\t\ts.os = s._searchString(s._dataOS) || "An unknown OS";\n\t};*/\n\n// Protected methods:\n/*\n\ts._searchString = function (data) {\n\t\tfor (var i = 0, l = data.length; i < l; i++) {\n\t\t\tvar dataString = data[i].string;\n\t\t\tvar dataProp = data[i].prop;\n\n\t\t\ts._versionSearchString = data[i].versionSearch || data[i].identity;\n\t\t\tif (dataString) {\n\t\t\t\tif (dataString.indexOf(data[i].subString) != -1) { return data[i].identity; }\n\t\t\t} else if (dataProp) {\n\t\t\t\treturn data[i].identity;\n\t\t\t}\n\t\t}\n\t};\n\n\ts._searchVersion = function (dataString) {\n\t\tvar index = dataString.indexOf(s._versionSearchString);\n\t\tif (index == -1) { return; }\n\t\treturn parseFloat(dataString.substring(index + s._versionSearchString.length + 1));\n\t};*/\n\t\n\t/**\n\t**static function only below\n\t**/\n\ts.flattenForm = function(flat,shape,tab){\n\t\tflat.id = flat.name=shape.name;\n\t\tflat.x = shape.x;\n\t\tflat.y = shape.y;\n\t\tflat.status = shape.status;\n\t\tflat.type = shape.type;\n\t\tflat.points = shape.points;\n\t\tflat.related = shape.related;\n\t\tflat.biderectional = shape.biderectional;\n\t\tflat.arrow = shape.arrow;\n\t\tflat.ball = shape.ball;\n\t\tflat.tab = tab;\n\t\tflat.pod = shape.pod;\n\t\tflat.label = shape.label;\n\t\treturn flat;\n\t}\n\n\n\t\n\t\n\t\nscope.FormProxy = s;\n\n//s.init(); // Auto init class.\n\n\n}(window.WBdraw));\n\n//# sourceURL=webpack:///./js/wbFormProxy.js?')},"./js/wbFormResizer.js":/*!*****************************!*\
  !*** ./js/wbFormResizer.js ***!
  \*****************************//*! no static exports found */function(module,exports){eval('(function(scope) {\n // \'use strict\';\n\t///var scope;// SAME AS static dynamic var\n\tfunction FormResize(id,type) {\n\t\tthis.Container_constructor();\n\t\tthis.id=this.name=id;\n\t\tthis.color = "";\n\t\tthis.type=type;\n\t\tthis.limitDraw=false;\n\t\tthis.rect=null;\n\t\tthis.segSize=12;\n\t\tthis.tolerance=10;\n\t\tthis.regX=0;\n\t\tthis.regY=0;\n\t\tthis.scaled=false;\n\t\tthis.rel=null;   \t\t//relative coordinates\n\t\tthis.formTarget=null;\n\t\tthis.formTargetLAST=null;\n\t\tthis.box1=null;\n\t\tthis.box2=null;\n\t\tthis.box3=null;\n\t\tthis.box4=null;\n\t\tthis.boxr=null;\n\t\tthis.boxm=null;\n\t\tthis.TXT=null\n\t\tthis.setup();\n\t\tconsole.log ("@@@@@@  NEW FormResize  ");\n\t}\n\tcreatejs.EventDispatcher.initialize(FormResize.prototype);\n\tvar p = createjs.extend(FormResize, createjs.Container);\n\t\n\tfunction bx1_move(btn,btn_name){\n\t\tif (this.TXT!==null)\n\t\t\t//this.TXT.visible=false;\n\t\t\tconsole.log("<<<<<<<<<<   003  >>>>>>>>>>");\n\t\tif (btn_name.indexOf("r")!=-1)\n\t\t\tbtn.on("pressmove", moveitR.bind(this));  //btn.on("pressmove", moveitR.bind(this));\n\t\telse if (btn_name.indexOf("m")!=-1)\n\t\t\tbtn.on("pressmove", moveitM.bind(this));\n\t\telse\n\t\t\tbtn.on("pressmove", moveit.bind(this));\n\t\treturn "";\n\t}\t\n\tfunction bx1_stop(btn,btn_name){\n\t\t\tbtn.off("pressmove");\n\t\t\tconsole.log("bx1------------>>>>>>>>>>>> stop"+this.formTarget.type);\n\t\t\tvar pt= this.formTarget.globalToLocal(this.box4.x*2,this.box4.y*2);\n\t\t\tthis.rotation=this.formTarget.rotation;\n\t\t\t//this.formTargetLAST=this.formTarget;\n\t\t\tswitch(this.formTarget.type){\n\t\t\t\tcase \'bezier\':\n\t\t\t\t\tbreak;\n\t\t\t\tcase \'free\':\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthis.formTarget.x=this.x-this.box4.x+this.tolerance;\n\t\t\t\t\tthis.formTarget.y=this.y-this.box4.y+this.tolerance;\n\t\t\t\t\tthis.formTarget.drawTemp((this.box4.x*2)-this.tolerance*2,(this.box4.y*2)-this.tolerance*2);\n\t\t\t\t\tthis.formTarget.drawPerm(this.formTarget);\n\t\t\t}\n\t\t\tif (this.TXT!==null){\n\t\t\t\tthis.TXT.visible=true;\n\t\t\t\tresizeEditor(this,this.formTarget);\n\t\t\t}\n\t\tthis.formTarget.commit("resize");\n\t\treturn "";\n\t}\n\t\n\tfunction moveitR(event){\n\t\tvar pt = this.globalToLocal(event.stageX,event.stageY);\n\t\tvar angle=cAngle({x:0,y:0},pt);\n\t\tthis.formTarget.rotation=angle+this.rotation;//this.rotation;\n\t\tif (this.formTarget.type=="text")\n\t\t\tthis.rotation=angle+this.rotation;//this.rotation;\n\t\t\t\n\t}\t\n\tfunction moveitM(event){\n\t\t//var pt = this.globalToLocal(event.stageX,event.stageY);\n\t\tthis.x=event.stageX;\n\t\tthis.y=event.stageY+this.formTarget.height*.5+10;\n\t\t\n\t\tthis.formTarget.x =this.x;\n\t\tthis.formTarget.y =this.y;\n\t\t\n\t\t\t\n\t}\n\tfunction moveit(event){\n\t\tvar bx = event.currentTarget;\n\t\tvar pt = this.globalToLocal(event.stageX,event.stageY);\n\t\tvar oldX=0;\n\t\tvar oldY=0;\n\t\toldX=bx.x;\n\t\toldY=bx.y;\n\t\tbx.x=pt.x;\n\t\tbx.y=pt.y;\n\t\tnX=Math.abs(pt.x);\n\t\tnY=Math.abs(pt.y);\n\t\tvar midW=Math.ceil(nX*.5);\n\t\tvar midH=Math.ceil(nY*.5);\n\t\tvar rFail=false;\n\t\t\n\t\tvar bs1 = this.box1.globalToLocal(event.stageX,event.stageY);\n\t\tvar bs2= this.box2.globalToLocal(event.stageX,event.stageY);\n\t\tvar bs3 = this.box3.globalToLocal(event.stageX,event.stageY);\n\t\tvar bs4 = this.box4.globalToLocal(event.stageX,event.stageY);\n\t\tif (midW<10 || midH<10){\n\t\t\trFail=true;\n\t\t}\n\t\tif (this.box1.hitTest(bs1.x,bs1.y) && bx.name!="bx1"){\n\t\t\trFail=true;\n\t\t}else if(this.box2.hitTest(bs2.x,bs2.y) && bx.name!="bx2"){\n\t\t\trFail=true;\n\t\t}else if(this.box3.hitTest(bs3.x,bs3.y) && bx.name!="bx3"){\n\t\t\trFail=true;\n\t\t}else if(this.box4.hitTest(bs4.x,bs4.y) && bx.name!="bx4"){\n\t\t\trFail=true;\n\t\t}\n\t\t\n\t\t\n\t\t\n\t\t\n\t\t\n\t\t// HIT TEST\n\t\t\n\t\t\n\t\t\n\t\tif (rFail){\n\t\t\tbx.x=oldX;\n\t\t\tbx.y=oldY;\n\t\t\treturn;\n\t\t}\n\t\tpositionBoxes(this,midW*2,midH*2,bx)\n\t\tminiWrap(this,Math.ceil(nX) ,Math.ceil(nY))\n\t\n\t}\n\t\n\tp.setup = function() {\n\t\tthis.points=[];\n\t\t//this.l\n\t\tthis.bg = new createjs.Shape();\n\t\tthis.box1= new WBdraw.resizeBtn("bx1", "#FFF",bx1_move.bind(this),bx1_stop.bind(this));\n\t\tthis.box2=new WBdraw.resizeBtn("bx2", "#FFF",bx1_move.bind(this),bx1_stop.bind(this));\n\t\tthis.box3=new WBdraw.resizeBtn("bx3", "#FFF",bx1_move.bind(this),bx1_stop.bind(this));\n\t\tthis.box4=new WBdraw.resizeBtn("bx4", "#FFF",bx1_move.bind(this),bx1_stop.bind(this));\n\t\tthis.boxr=new WBdraw.resizeBtn("bxr", "#FFF",bx1_move.bind(this),bx1_stop.bind(this));\n\t\tthis.boxm=new WBdraw.resizeBtn("bxm", "#FFF",bx1_move.bind(this),bx1_stop.bind(this));\n\t\t\n\t\t// var he = window.WBdraw.getCanvasDiv("editTxt");\n\t\t// he.style.display="none";\n\t\t// he.innerHTML=\'<textarea name="txt2edit" id="txt2edit" placeholder="enter text here" cols="" rows="" style="width:inherit;font-size:20px; lineHeight:1.0em" readOnly></textarea>\';\n\t\t// //he.readOnly=false;\n\t\t// //he.style.width=\'60%\';\n\t\t\n\t\t// var dd = window.WBdraw.getCanvasDiv("txt2edit");\n\t\t// //var dd = ReactDOM.findDOMNode(this.refs.editTxt);\n\t\t\n\n\t\t// dd.style.background="rgba(0,0,0,0)";\n\t\t// dd.style.color = "black";\n\t\t// dd.style.border = "none";\n\t\t// dd.style.overflow = "hidden";\n\t\t// dd.style.fontFamily="Arial";\n\t\t// dd.style.padding="8px";\n\t\t// dd.style.fontSize="20px";\n\t\t// dd.style.lineHeight="1.0em";\n\t\t\n\t\t// var owner=this;\n\t\t// dd.onclick=function (e){\n\t\t// \tdd.readOnly=false;\n\t\t// }\n\t\t// //dd.onfocus=function (e){dd.value="dude"}\n\t\t// dd.onblur=function (e){\n\t\t// \t//commit change\n\t\t// \tif (owner.formTargetLAST!=null){\n\t\t// \t\towner.formTargetLAST.setText(dd.value);\n\t\t\t\t\n\t\t\t\t\n\t\t// \t\towner.formTarget.x=owner.x-owner.box4.x+owner.tolerance;\n\t\t// \t\towner.formTarget.y=owner.y-owner.box4.y+owner.tolerance;\n\t\t// \t\towner.formTarget.drawTemp((owner.box4.x*2)-owner.tolerance*2,(owner.box4.y*2)-owner.tolerance*2);\n\t\t// \t\towner.formTarget.drawPerm(owner.formTarget);\n\t\t\t\t\n\t\t// \t\towner.formTargetLAST.commit("text");\n\t\t// \t\tif (owner.formTarget!=owner.formTargetLAST)\n\t\t// \t\t\towner.formTargetLAST.visible=true;\n\t\t// \t\t//if (owner.parent==null)\n\t\t// \t\t\t//owner.formTargetLAST.visible=true;\n\t\t// \t}\n\t\t// \towner.formTargetLAST=null;\n\t\t// }\n\t\t/*dd.onkeypress=function (e){\n\t\t\tvar code = e.which || e.keyCode;\n\t\t\tconsole.log(code);\n\t\t\t//if (code == 13){\n\t\t\t\t//commit change\n\t\t\t//}\n\t\t}\n\t\tdd.onkeydown=function (e){\n\t\t\tvar code = e.which || e.keyCode;\n\t\t\tconsole.log(code);\n\t\t\t}*/\n\t\t// this.TXT=new createjs.DOMElement(he);\n\t\tthis.bg.snapToPixel=true;\n\t\tthis.box1.snapToPixel=true;\n\t\tthis.box2.snapToPixel=true;\n\t\tthis.box3.snapToPixel=true;\n\t\tthis.box4.snapToPixel=true;\n\t\tthis.boxr.snapToPixel=true;\n\t\t\n\t\tthis.boxm.resize(50,20);\n\t\tthis.boxm.snapToPixel=true;\n\t\t\n\t\t// this.TXT.snapToPixel=true;\n\t\t// this.addChild(this.bg,this.box1,this.box2,this.box3,this.box4,this.boxr,this.boxm,this.TXT); \n\t\tthis.addChild(this.bg,this.box1,this.box2,this.box3,this.box4,this.boxr,this.boxm,this.TXT); \n\t\t\n\t\t\n\t} ;\n\n\tp.EMPTY = function (){\n\t\tif (this.formTarget!=null){\n\t\t\t\treturn this.formTarget.EMPTY();\n\t\t}\n\t\treturn false;\n\t}\n\n\tp.width=0;\n\tp.height=0;\n\t\n\tp.handleRollOver = function(event) {       \n\t\tthis.alpha = event.type == "rollover" ? 0.4 : 1;\n\t};\n\t\n\n\tfunction cAngle(center, p1) {\n\t\tvar p0 = {x: center.x, y: center.y - Math.sqrt(Math.abs(p1.x - center.x) * Math.abs(p1.x - center.x)\n\t\t\t\t+ Math.abs(p1.y - center.y) * Math.abs(p1.y - center.y))};\n\t\treturn (2 * Math.atan2(p1.y - p0.y, p1.x - p0.x)) * 180 / Math.PI;\n\t}\n\t\n\tp.wrapTarget = function(owner,obj){\n\t\t// var he = window.WBdraw.getCanvasDiv("editTxt");\n\t\t// \tvar dd = window.WBdraw.getCanvasDiv("txt2edit");\n\t\tif (obj==null){\n\t\t\t\t// dd.blur();\n\t\t\tif (owner.formTarget!=null){\n\t\t\t\towner.formTarget.scaleState(false);\n\t\t\t\tif(owner.formTarget.type=="text"){\n\t\t\t\t\towner.formTarget.visible=true;\n\t\t\t\t}\n\t\t\t\t \n\t\t\t\towner.formTargetLAST=owner.formTarget;\n\t\t\t}\n\t\t\towner.formTarget=null;\n\t\t\tif (owner.parent)\n\t\t\t\towner.parent.removeChild(this);\n\t\t\t//he.style.display=\'none\';\n\t\t}else{\n\t\t\tthis.rotation=obj.rotation;\n\t\t\tvar isText=(obj.type=="text");\n\t\t\tif (isText){\n\t\t\t\t// dd.blur();\n\t\t\t\t//owner.formTarget.visible=true;\n\t\t\t}\n\t\t\t\n\t\t\towner.formTargetLAST=owner.formTarget;\n\t\t\towner.formTarget=obj;\n\t\t\towner.x=obj.x;\n\t\t\towner.y=obj.y;\n\t\t\tvar midW=Math.ceil(obj.width*.5)+owner.tolerance;\n\t\t\tvar midH=Math.ceil(obj.height*.5)+owner.tolerance;\n\t\t\t\n\t\t\towner.box4.visible=owner.box3.visible=owner.box2.visible=owner.box1.visible = obj.elastic;\n\t\t\towner.boxr.visible =owner.boxm.visible = obj.rotary;\n\t\t\tresizeEditor(owner,obj);\n\t\t\tpositionBoxes(owner,midW,midH,"")\n\t\t\tminiWrap(owner,midW,midH);\n\t\t\tif (owner.formTarget!=null){\n\t\t\t\tif (isText){\n\t\t\t\t\towner.formTargetLAST=owner.formTarget\n\t\t\t\t\tif (owner.formTarget.text.text!=""){\n\t\t\t\t\t\t//he.style.display=\'block\';\n\t\t\t\t\t\tconsole.log("<<<<<<<<<<   001  >>>>>>>>>>");\n\t\t\t\t\t\t// if (owner.formTarget.text.text !="enter text here")\n\t\t\t\t\t\t\t// dd.value=owner.formTarget.text.text;\n\t\t\t\t\t\t// owner.formTarget.visible=false;\n\t\t\t\t\t\tif (!BrowserDetect.isIOS() && !BrowserDetect.isAndroid() ){\n\t\t\t\t\t\t\t// dd.focus();\n\t\t\t\t\t\t\t//if (dd.value=="enter text here"){\n\t\t\t\t\t\t\t\t//dd.select();\n\t\t\t\t\t\t\t//}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\t//he.style.display=\'none\';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t}\n\t\n\n\t\n\tfunction resizeEditor(owner,obj){\n\t\t// var he = window.WBdraw.getCanvasDiv("editTxt");\n\t\t// var te=window.WBdraw.getCanvasDiv("txt2edit");\n\t\t// te.style.width="inherit";\n\t\t// \the.style.width=obj.width+"px";\n\t\t// te.style.height="inherit";\n\t\t// \tvar lh=obj.height-10;\n\t\t// \the.style.height=lh+"px";\n\t\t\t\n\t\t// \tvar midW=Math.ceil(obj.width*.5)+owner.tolerance;\n\t\t// \tvar midH=Math.ceil(obj.height*.5)+owner.tolerance;\n\t\t// \towner.TXT.x=-midW+5;\n\t\t// \towner.TXT.y=-midH+5;\n\t\t//if (owner.formTarget.type == "text")\n\t\t//\towner.formTargetLAST.visible=true;\n\t\t\t\n\t}\n\t\n\tfunction positionBoxes(owner,midW,midH,bx){\n\t\t\t\n\t\tif (bx.name!="bx4"){\n\t\t\towner.box4.x=midW;\n\t\t\towner.box4.y=midH;\n\t\t}\n\t\tif (bx.name!="bx3"){\n\t\t\towner.box3.x=0-midW;\n\t\t\towner.box3.y=midH;\n\t\t}\n\t\tif (bx.name!="bx2"){\n\t\t\towner.box2.x=midW;\n\t\t\towner.box2.y=0-midH;\n\t\t}\n\t\tif (bx.name!="bx1"){\n\t\t\towner.box1.x=0-midW;\n\t\t\towner.box1.y=0-midH;\n\t\t}\n\t\t\n\t\towner.boxr.x=0;\n\t\towner.boxm.x=0;\n\t\towner.boxm.y=-midH;\n\t\towner.boxr.y=-60-midH;\n\t}\n\t\t\n\tfunction miniWrap(owner,midW,midH){\n\t\tvar MC = owner.bg.graphics;\n\t\tMC.clear();\n\t\tMC.beginStroke(\'red\'); \n\t\tMC.setStrokeStyle(2);\n\t\tvar origin = new createjs.Point(-midW,-midH); \n\t\tvar midtp = new createjs.Point(0,0); \n\t\tvar tp= new createjs.Point(midW,-midH);\n\t\tvar btm=new createjs.Point(midW,midH);\n\t\tvar lft=new createjs.Point(-midW,midH);\n\t\tvar rt=new createjs.Point(midW,midH);\n\t\tvar rot=new createjs.Point(0,-60-midH);\n\t\t//MC.beginFill(\'red\'); \n\t\tcreateLineSegments(MC,origin,tp,false);   \t//TOP\n\t\tcreateLineSegments(MC,origin,lft,true);\t\t//LEFT\n\t\tcreateLineSegments(MC,lft,btm,false);\t\t//BOTTOM\n\t\tcreateLineSegments(MC,tp,rt, true);\t\t\t//RIGHT\n\t\tif (owner.boxr.visible)\n\t\t\tcreateLineSegments(MC,rot,midtp,true);\t\t//ROTATION\n\t};\n\t\t\n\t\n\tfunction createLineSegments(MC,begin,end,isVert){\n\t\tvar x1=dx1=begin.x;\n\t\tvar x2=dx2=end.x;\n\t\tvar y1=dy1=begin.y;\n\t\tvar y2=dy2=end.y;\n\t\td= Math.sqrt( (dx2-=dx1)*dx2 + (dy2-=dy1)*dy2 );\n\n\t\ttot =(d/12);\n\t\t//myGraphics.setStrokeDash([20, 10], 0);  //20 px then 10px gap  0 marching ants effect\n\t\tvar lastX=begin.x;\n\t\tvar lastY=begin.y;\n\t\tvar diff=d/tot;\n\t\tfor (var i=0;i<=tot; ++i){\n\t\t\tif (isVert){\n\t\t\t\t\ty = Math.ceil(lastY+diff);\n\t\t\t\tvar x=x2;\n\t\t\t\tif (y<lastY){\n\t\t\t\t\tlastY-=2;\n\t\t\t\t}else{\n\t\t\t\t\tlastY+=2;\n\t\t\t\t}\n\t\t\t\tif (y>Math.abs(y2))\n\t\t\t\t\tbreak;\n\t\t\t}else{\n\t\t\t\tx = Math.ceil(lastX+diff);\n\t\t\t\tvar y=y2;\n\t\t\t\tif (x<lastX){\n\t\t\t\t\tlastX-=2;\n\t\t\t\t}else{\n\t\t\t\t\tlastX+=2;\n\t\t\t\t}\n\t\t\t\tif (Math.abs(x)>Math.abs(x2))\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tMC.moveTo(lastX,lastY); \n\t\t\tMC.lineTo(x, y);\n\t\t\tlastX = x;\n\t\t\tlastY = y;\n\t\t}\n\t}\n\t\n\n\n\n\t\n\t\n\n\tscope.FormResize = createjs.promote(FormResize, "Container");\n}(window.WBdraw));\n\n//# sourceURL=webpack:///./js/wbFormResizer.js?')},"./js/wbFormShape.js":/*!***************************!*\
  !*** ./js/wbFormShape.js ***!
  \***************************//*! no static exports found */function(module,exports){eval('(function(scope) {\n // \'use strict\';\n\t///var scope;// SAME AS static dynamic var\n\tfunction FormShape(id,label,type, color ) {\n\t\tthis.Container_constructor();\n\t\tthis.id=this.name=id;\n\t\tthis.color = color;\n\t\tthis.type=type\n\t\tthis.label = label;\n\t\tthis.setup();\n\t\tthis._commited = false;\n\t}\n\tvar p = createjs.extend(FormShape, createjs.Container);\n\n\n\tp.setup = function() {\n\t\t//var hitArea = new createjs.Shape();\n\t\t//hit.graphics.beginFill("#000").drawRect(0, 0, label2.getMeasuredWidth(), label2.getMeasuredHeight());\n\t\t//label2.hitArea = hit;\n\t\tvar text = new createjs.Text(this.label, "20px Arial", "#000");\n\t\ttext.name=text.id="txt";\n\t\ttext.textBaseline = "top";\n\t\ttext.textAlign = "center";\n\t\t\n\t\tvar width = text.getMeasuredWidth()+30;\n\t\tvar height = text.getMeasuredHeight()+20;\n\t\t\n\t\t//scope = this;\n\t\ttext.x = width/2;\n\t\ttext.y = 10;\n\t\t\n\t\tvar bg = new createjs.Shape();\n\t\tbg.name=bg.id="bg";\n\t\t//bg.graphics.beginFill(this.color).drawRoundRect(0,0,width,height,10);\n\t\tbg.graphics.setStrokeStyle(5);\n\t\tbg.graphics.beginStroke(\'#\'+Math.floor(Math.random()*16777215).toString(16));\n\t\tbg.graphics.beginFill(this.color).drawRoundRect(0, 0, width, height, 10);\n\t\t\n\t\tthis.addChild(bg, text); \n\t\tthis.on("click", this.handleClick);\n\t\tthis.on("rollover", this.handleRollOver);\n\t\tthis.on("rollout", this.handleRollOver);\n\t\tthis.on("mousedown", this.handlePress);\n\t\tthis.on("pressup", this.handleRelease);\n\t\tthis.cursor = "pointer";\n\n\t\tthis.mouseChildren = false;\n\t\t\n\t\tthis.offset = Math.random()*10;\n\t\tthis.count = 0;\n\t} ;\n\n\tp.handleClick = function (event) {\n\t\t//alert("You clicked on a button: "+this.label);\n\t} ;\n\tp.hello = function (msg){\n\t\tconsole.log(msg);\n\t\tp.width=100;\n\t}\n\t\t\n\t\tp.width=0;\n\tp.height=0;\n\t\n\tp.setSize = function (width,height,color){\n\t\tvar bg=target.getChildByName("bg");\n\t\tbg.graphics.clear()\n\t\t\t\t.beginStroke(\'#ccc\')\n\t\t\t\t.beginFill(\'#\'+Math.floor(Math.random()*16777215))\n\t\t\t\t.drawRect(0,0,width,height);\n\t\tp.width=width;\n\t\tp.height=height;\n\t}\n\tp.getWidth = function(){\n\t\treturn width;\n\t}\n\t\n\tp.handlePress = function(event){\n        mainStage.addEventListener("stagemousemove", this.drawLine);\n        mainStage.addEventListener("stagemouseup", this.endDraw);\n\t\tconsole.log(this.id);\n\t\tif (!this.scaled){\n\t\tcreatejs.Tween.get(this,{override:true}).to({scaleX:1.1, scaleY:1.1},100,createjs.Ease.quadIn);\n\t\tthis.scaled=true\n\t\tthis.rel=this.globalToLocal(mainStage.mouseX,mainStage.mouseY);\n\t\t}\n\t}\n\tp.handleRelease = function(event){\n        mainStage.removeEventListener("stagemousemove", this.drawLine);\n        mainStage.removeEventListener("stagemouseup", this.endDraw);\n\t\t\n\t   var myevent = {\n\t\t type: "SelectEvent",\n\t\t param: this\n\t   };\n\t   this.dispatchEvent(myevent);\n\t}\n\t\n\t// out of scope below\n\tp.drawLine = function(event){\n\t\t//console.log(mainStage.mouseX+","+mainStage.mouseY);\n\t\tvar mStage = event.target;\t\t\n\t\tvar target, targets = mStage.getObjectsUnderPoint(mStage.mouseX, mStage.mouseY, 1);\n        for (var i=0; i<targets.length; i++) {\n            if (targets[i].parent.scaled) {\n                target = targets[i].parent;\n                break;\n            }\n        }\n\n        if (target != null) {\n\t\t\ttarget.x=mStage.mouseX-target.rel.x;\n\t\t\ttarget.y=mStage.mouseY-target.rel.y;\n\t\t\tvar bg=target.getChildByName("bg");\n\t\t\tbg.graphics.clear()\n\t\t\t\t.beginStroke(\'#\'+Math.floor(Math.random()*16777215))\n\t\t\t\t.beginFill(\'#\'+Math.floor(Math.random()*16777215))\n\t\t\t\t.drawRect(0,0,mStage.mouseX,mStage.mouseY)\n\t\t\t\n        } else {\n            //createjs.Tween.get(connection).to({alpha:0}, 1200, createjs.Ease.quadOut).call(function(event) {\n                //stage.removeChild(event.target.target);\n            //});\n\t\t}\n       \n\t}\n\t\n\t\n\tp.endDraw = function(event){\n\t\tvar mStage = event.target;\n\t\tvar target, targets = mStage.getObjectsUnderPoint(mStage.mouseX, mStage.mouseY, 1);\n        for (var i=0; i<targets.length; i++) {\n            if (targets[i].parent.scaled) {\n                target = targets[i].parent;\n                break;\n            }\n        }\n\t\tconsole.log(target.scaled);\n        if (target != null) {\n\t\t\ttarget.scaled=false;\n\t\tcreatejs.Tween.get(target,{override:true}).to({scaleX:1, scaleY:1},100,createjs.Ease.quadIn);\n\t\t\t\n        }\n\t}\n\t\n\n\tp.handleRollOver = function(event) {       \n\t\tthis.alpha = event.type == "rollover" ? 0.4 : 1;\n\t};\n\n\tscope.FormShape = createjs.promote(FormShape, "Container");\n}(window.WBdraw));\n\n//# sourceURL=webpack:///./js/wbFormShape.js?')},"./js/wbFormText.js":/*!**************************!*\
  !*** ./js/wbFormText.js ***!
  \**************************//*! no static exports found */function(module,exports){eval('(function(scope) {\n // \'use strict\';\n\t///var scope;// SAME AS static dynamic var\n\tfunction FormText(id,type) {\n\t\tthis.Container_constructor();\n\t\tthis.id=this.name=id;\n\t\tthis.color = "000";\n\t\tthis.type=type;\n\t\tthis.limitDraw=false;\n\t\tthis.rect=null;\n\t\tthis.segSize=12;\n\t\tthis.regX=0;\n\t\tthis.regY=0;\n\t\tthis.scaled=false;\n\t\tthis.rel=null;   \t\t//relative coordinates\n\t\tthis.text=null;\n\t\tthis.label="";\n\t\tthis.tempOrigin=null;\n\t\tthis.lastXY={x:0,y:0};\n\t\tthis.points=[];\n\t\tthis.related=null;\n\t\tthis.biderectional=false;\n\t\tthis.label="enter text here";\n\t\tthis.elastic=true;\n\t\tthis.rotary=true;\n\t\tthis.setup();\n\t}\n\tcreatejs.EventDispatcher.initialize(FormText.prototype);\n\tvar p = createjs.extend(FormText, createjs.Container);\n\n\tp.setup = function() {\n\t\t//this.l\n\tthis.bg = new createjs.Shape();\n\tthis.bg.snapToPixel=true;\n\tthis.hitHelper = new createjs.Shape();\n\tthis.hitHelper.snapToPixel=true;\n\t\t\tthis.text = new createjs.Text(this.label, "20px Arial", "#000");\n\t\t\tthis.text.font = "20px Arial";\n\t\t\t//this.text.font = "bold 20px Arial";\n\t\t\tthis.text.color = "#000000";\n\t\t\tthis.text.padding="10px";\n\t\t\tthis.text.y=-10;\n\t\t\t//this.text.lineHeight= "1em";\n\tthis.text.snapToPixel=true;\n\tthis.text.hitArea=this.hitHelper;\n\t\tthis.addChild(this.bg,this.text); \n\t\t//this.on("dblclick ", this.dblclick.bind(this));\n\t\tthis.on("mousedown", this.handlePress.bind(this));\n\t\tthis.on("pressup", this.handleRelease.bind(this));\n\t\t//this.on("pressmove", this.moveLocally.bind(this));\n\t\tthis.cursor = "pointer";\n\t\tthis.mouseChildren = false;\n\t\t\n\t\tthis.offset = Math.random()*10;\n\t\tthis.count = 0;\n\t\t\n\t\t\tthis.text.name = this.text.id="txt";\n\t\t\t//this.text.text="hiya";\n\t\t\tthis.text.textBaseline = "top";\n\t\t\tthis.text.textAlign = "left";\n\t\t\tthis.text.wordWrap = true;\n\t\t\tthis.width = this.text.getMeasuredWidth()+30;\n\t\t\t\tthis.height = this.text.getMeasuredHeight()+20;\n\t\tthis.points.push(new createjs.Point(this.text.getMeasuredWidth()+30,this.text.getMeasuredHeight()+20));\n\t\tthis.squarePerm(this);\n\t\tthis.status=window.WBdraw.FormProxy.NEW;\n\t} ;\n\n\tp.setText=function(text){\n\t\tthis.text.text=this.label=text;\n\t}\n\t\n\tp.drawTemp= function (fx,fy) {\n\t\tthis.uncache();\n\t\t//this.bg.visible=true;\n\t\tthis.bg.alpha=1;\n\t\tthis.square(this,fx,fy);\n\t}\n\t\n\tp.drawPerm= function (shape,init) {\n\t\tif (shape.id !=this.id)\n\t\t\treturn;\n\t\ttry{\n\t\t\tvar finalIn=this.squarePerm(this,shape,init);\n\t\t}catch(err){\n\t\t\tconsole.log(err);\n\t\t\tthrow "[E] No function matches:"+this.type+"Perm() in FormText (wbFormText.js)";\n\t\t\t\n\t\t}\n\t\t  // var myevent = {\n\t\t\t// type: "CommitEvent",\n\t\t\t// param: this\n\t\t  // };\n\t\t  console.log("...create....");\n\t\tif (finalIn)\n\t\t\tthis.commit(window.WBdraw.FormProxy.UPDATE);\n\t\t\t//this.dispatchEvent(myevent);\n\t}\n\tp.EMPTY = function (){\n\t\tif (this.text.text=="")\n\t\t\treturn true;\n\t\treturn false;\n\t}\n\tp.commit = function (action){\n\t\tif (action=="blur"){\n\t\t\t\treturn;\t\n\t\t}\n\t\t   var myevent = {\n\t\t\t type: "CommitEvent",\n\t\t\t param: this,\n\t\t\t action:action\n\t\t   };\n\t\tthis.dispatchEvent(myevent);\n\t}\n\n\tp.width=0;\n\tp.height=0;\n\t\n\tp.scaleState = function (scld){\n\t\tthis.scaled=scld;\n\t\tthis.scaleX=this.scaleY=1;\n\t}\n\tp.setSize = function (width,height,color){\n\t\t\n\t}\n\tp.getWidth = function(){\n\t\treturn width;\n\t}\n\n\tp.moveSTART = function (event){\n\t\tevent.stopImmediatePropagation();\n\t\tvar mStage = event.target;\t\t\n\t\tvar target, targets = mStage.getObjectsUnderPoint(mStage.mouseX, mStage.mouseY, 1);\n        for (var i=0; i<targets.length; i++) {\n            if (targets[i].parent.scaled) {\n                target = targets[i].parent;\n                break;\n            }\n        }\n\n        if (target != null) {\n\t\t\t//target.x=mStage.mouseX-target.rel.x+target.regX;\n\t\t\t//target.y=mStage.mouseY-target.rel.y+target.regY;\n\t\t\tconsole.log(target.rel+","+target.regX);\n\t\t\tconsole.log(event);\n\t\t\tconsole.log("@@@  start 9 @@@@");\n\t\t\t//mainStage.update();\n\t\t\t//event.target.update();\n\t\t}\n\t}\n\tp.moveEND = function(event){\n\t\tvar mStage = event.target;\n\t\t\n\t\tif (this.x==this.lastXY.x && this.y==this.lastXY.y){\n\t\t\treturn;\n\t\t}\n\t\tvar target, targets = mStage.getObjectsUnderPoint(mStage.mouseX, mStage.mouseY, 1);\n        for (var i=0; i<targets.length; i++) {\n            if (targets[i].parent.scaled) {\n                target = targets[i].parent;\n                break;\n            }\n        }\n        if (target != null) {\n\t\t\ttarget.scaled=false;\n\t\tcreatejs.Tween.get(target,{override:true}).to({scaleX:1, scaleY:1},100,createjs.Ease.quadIn);\n\t\t}\n\t\t\n\t\t  console.log("...moved....");\n\t\tthis.commit(window.WBdraw.FormProxy.MOVED);\n\t\tthis.lastXY.x=this.x;\n\t\tthis.lastXY.y=this.y;\n\t\t//event.stopImmediatePropagation();\n\t}\n\t\n\t\n\t/*\n\tp.dblclick  = function(event){\n\t\t  console.log("...doubleclicked....");\n\t   var mevt = {\n\t\t type: "DblCEvent", \n\t\t param: this\n\t   };\n\t\t//if (!this.scaled)\n\t\tevent.stopImmediatePropagation();\n\t   this.dispatchEvent(mevt);\n\t}*/\n\t\n\tp.handlePress = function(event){\n\t\t  console.log("...handlePress....");\n\t   var mevt = {\n\t\t type: "PressEvent", \n\t\t param: this\n\t   };\n\t\t//if (!this.scaled)\n\t\tevent.stopImmediatePropagation();\n\t   this.dispatchEvent(mevt);\n\t}\n\t\n\tp.handleRelease = function(event){\n\t   var mevt = {\n\t\t type: "ReleaseEvent", \n\t\t param: this\n\t   };\n\t\tevent.stopImmediatePropagation();\n\t   this.dispatchEvent(mevt);\n\t}\n\t\n\n\n\tp.handleRollOver = function(event) {       \n\t\tthis.alpha = event.type == "rollover" ? 0.4 : 1;\n\t};\n\n\t\n\tp.square = function(owner,fx,fy){\n\t\tvar lc=new createjs.Point(fx,fy);\n\t\tvar MC =owner.bg.graphics;\n\t\t\n\t\tMC.clear();\n\t\towner.points=[];\n\t\tMC.setStrokeStyle(5);\n\t\t\tMC.beginStroke(\'#000\'); \n\t\t\tMC.beginFill(\'#FFF\'); \n\t\t\tMC.rect(0,0,lc.x, lc.y);\n\t\towner.points.push(lc);\n\t\tMC.endStroke();\n\t\tMC.endFill(); \n\t\t//this.cache(0,0,inX,inY);\n\t}\n\t\n\t\n\tp.squarePerm = function(owner,shape,init){\n\t\t\n\t\tvar MC =owner.bg.graphics;\n\t\tvar HTC =owner.text.hitArea.graphics;\n\t\tMC.clear();\n\t\tHTC.clear();\n\t\tvar tot = owner.points.length;\n\t\tif (tot==0){\n\t\t\tvar parentIN= owner.parent;\n\t\t\tconsole.log(parentIN.getNumChildren());\n\t\t\towner.parent.removeChild(this);\n\t\t\tconsole.log(parentIN.getNumChildren());\n\t\t\treturn false;\n\t\t}\n\t\t\n\n\t\t\n\t\t\n\t\tolc = owner.points[0];\n\t\tlc = window.WBdraw.ConfigWB.convert2pos(owner,olc);\n\t\tvar strokeIn=5;\n\t\tif (lc.x<0){//moveBy in the + direction X\n\t\t\towner.regX=-Math.abs(lc.x*.5);\n\t\t\towner.x=owner.x+owner.regX;\n\t\t}else{//moveBy in neg\n\t\t\towner.regX = Math.abs(lc.x*.5);\n\t\t\towner.x = owner.x+owner.regX;\n\t\t}\n\t\tif (lc.y<0){//moveBy in the + direction Y\n\t\t\towner.regY =-Math.abs(lc.y*.5);\n\t\t\towner.y = owner.y+owner.regY;\n\t\t}else{//moveBy in neg\n\t\t\towner.regY=Math.abs(lc.y*.5);\n\t\t\towner.y=owner.y+owner.regY;\n\t\t}\n\t\tvar inX=Math.floor(lc.x);\n\t\tvar inY=Math.floor(lc.y)\n\t\towner.width=Math.abs(inX);\n\t\towner.height=Math.abs(inY)+strokeIn;\n\t\n\t\t\n\t\tif (owner.width<30 || owner.height<20){\t\n\t\t\tif (owner.width< owner.text.getMeasuredWidth()  ){\n\t\t\t\towner.width = owner.text.getMeasuredWidth()+30;\n\t\t\t}\n\t\t\tif (owner.height<owner.text.getMeasuredHeight()){\n\t\t\t\towner.height = owner.text.getMeasuredHeight()+20;\n\t\t\t}\n\t\t}\n\t\t\tif (owner.height<30){\n\t\t\t\towner.height  = 40;\n\t\t\t}\n\t\tMC.setStrokeStyle(strokeIn);\n\t\tMC.beginStroke(\'#000\');  \n\t\tMC.beginFill(\'#FFF\'); \n\t\tHTC.setStrokeStyle(strokeIn*2);\n\t\tHTC.beginStroke(\'#000\'); \n\t\tHTC.beginFill(\'red\');  \n        HTC.rect(0,0,inX,inY);\n\t\tMC.rect(0,0,inX,inY);\n\t\t\n        MC.endStroke();\n        HTC.endStroke();\n\t\tHTC.endFill(); \n\t\tMC.endFill(); \n\t\towner.text.x=owner.text.y=strokeIn-1;\n\t\towner.text.y=-1;\n\t\towner.text.lineWidth=inX;\n\t\towner.text.width=inX;\n\t\towner.text.height=inY;\n\t\t\n\t\towner.bg.visible=false;\n\t\t\n\t\t//owner.cache(-strokeIn,-strokeIn,inX+strokeIn*2,inY+strokeIn*2);\n\t\towner.cache(-strokeIn+(inX<0?inX:0),-strokeIn+(inY<0?inY:0), owner.width+strokeIn*2,owner.height+strokeIn*2);\n\t\t\n\t\treturn true;\n\t}\n\n\t\n\tp.destroy = function(fromJMS){\n\t\tthis.uncache();\n\t\tthis._commited = false;\n\t\t\n\t}\n\n\n\t\n\tscope.FormText = createjs.promote(FormText, "Container");\n}(window.WBdraw));\n\n//# sourceURL=webpack:///./js/wbFormText.js?')},"./js/wbMaster.js":/*!************************!*\
  !*** ./js/wbMaster.js ***!
  \************************//*! no static exports found */function(module,exports){eval('\n\n//# sourceURL=webpack:///./js/wbMaster.js?')},"./js/wbMenu.js":/*!**********************!*\
  !*** ./js/wbMenu.js ***!
  \**********************//*! no static exports found */function(module,exports){eval('(function(scope) {\n // \'use strict\';  \n\n /**\n *@author Rcolvin\n * Creates Menu that holds MenuBar And sub menu\n * @param {String} id \n * @return {String} color\n */\n\t///var scope;// SAME AS static dynamic var\n\tfunction Menu(id, color ) {\n\t\tthis.Container_constructor();\n\t\tthis.id=this.name=id;\n\t\tthis.color = color;\n\t\tthis.hi_Y=0;\n\t\tthis.Controller =null;\n\t\tthis.matrix = new createjs.Matrix2D();\n\t\tthis.angle = Math.PI/12;\n\t\tthis.currentMenu="";\n\t\t//menu items\n\t\tthis.options= new Object();\n\t\tthis.subscriberWL = {"select":true,"line":true,"fill":true,"math":true,"media":true,"select":false,"print":true,"clear":true,"modify":true,"text":true,"undo":true,"redo":true};\n\t\tthis.hostWL = {"select":true,"line":true,"fill":true,"math":true,"media":true,"select":true,"print":true,"clear":true,"modify":true,"text":true,"undo":true,"redo":true};\n\t\t/**\n\t\t* \n\t\t* Each name for main menu MUST match a "class" name like "menu" to match "Menu"\n\t\t* sub menu names must match the function needed in Each class to SUPPORT drawing like "free" for free/freePerm \n\t\t*\n\t\t**/\n\t\tthis.options["BR"]=[ \n\t\t\t{"name":"select", "btns":{"icon":"ss.png","hint":"select opject","action":"select"}},\n\t\t\t{"name":"line", "btns":{"icon":"ss.png","hint":"line",">":[{"name":"free","icon":"ss.png","action":"method1","hint":""},\n\t\t\t\t\t{"name":"straight","icon":"ss.png","action":"method1","hint":""},\n\t\t\t\t\t{"name":"bezier","icon":"ss.png","action":"method1","hint":""},\n\t\t\t\t\t{"name":"links","icon":"ss.png","action":"method1","hint":""}]}},\n\t\t\t{"name":"fill", "btns":{"icon":"ss.png","hint":"fill",">":[{"name":"square","icon":"ss.png","action":"method1","hint":""},\n\t\t\t\t\t{"name":"circle","icon":"ss.png","action":"method1","hint":""},\n\t\t\t\t\t{"name":"star","icon":"ss.png","action":"method1","hint":""}]}},\n\t\t\t{"name":"math", "btns":{"icon":"ss.png","hint":"math",">":[{"name":"sqrt","icon":"ss.png","action":"method1","hint":""},\n\t\t\t\t\t{"name":"axis","icon":"ss.png","action":"method1","hint":""},\n\t\t\t\t\t{"name":"graph","icon":"ss.png","action":"method1","hint":""}]}},\n\t\t\t{"name":"media", "btns":{"icon":"ss.png","hint":"media",">":[{"name":"ppt","icon":"ss.png","action":"method1","hint":""},\n\t\t\t\t\t{"name":"video","icon":"ss.png","action":"method1","hint":""}]}},\n\t\t\t{"name":"select_area", "btns":{"icon":"ss.png","hint":"selectable area",">":[{"name":"add","icon":"ss.png","action":"method1","hint":""},\n\t\t\t\t\t{"name":"remove","icon":"ss.png","action":"method1","hint":""}]}},\n\t\t\t{"name":"text", "btns":{"icon":"ss.png","hint":"text area","action":"method1"}},\n\t\t\t{"name":"print", "btns":{"icon":"ss.png","hint":"selectable area","action":"print"}},\n\t\t\t{"name":"clear", "btns":{"icon":"ss.png","hint":"selectable area","action":"method1"}},\n\t\t\t{"name":"modify", "btns":{"icon":"ss.png","hint":"modify",">":[{"name":"delete","icon":"ss.png","action":"method1","hint":""},\n\t\t\t\t\t{"name":"color","icon":"ss.png","action":"method1","hint":""},\n\t\t\t\t\t{"name":"alpha","icon":"ss.png","action":"method1","hint":""},\n\t\t\t\t\t{"name":"undo","icon":"ss.png","action":"method1","hint":""},\n\t\t\t\t\t{"name":"redu","icon":"ss.png","action":"method1","hint":""}]}}\n\t\t];\n\t\tthis.options["EN"]=[ \n\t\t\t{"name":"select", "btns":{"icon":"ss.png","hint":"select opject","action":"select"}},\n\t\t\t{"name":"line", "btns":{"icon":"ss.png","hint":"line",">":[{"name":"free","icon":"ss.png","action":"method1","hint":""},\n\t\t\t\t\t{"name":"straight","icon":"ss.png","action":"method1","hint":""},\n\t\t\t\t\t{"name":"bezier","icon":"ss.png","action":"method1","hint":""},\n\t\t\t\t\t{"name":"links","icon":"ss.png","action":"method1","hint":""}]}},\n\t\t\t{"name":"fill", "btns":{"icon":"ss.png","hint":"fill",">":[{"name":"square","icon":"ss.png","action":"method1","hint":""},\n\t\t\t\t\t{"name":"circle","icon":"ss.png","action":"method1","hint":""},\n\t\t\t\t\t{"name":"star","icon":"ss.png","action":"method1","hint":""}]}},\n\t\t\t{"name":"math", "btns":{"icon":"ss.png","hint":"math",">":[{"name":"sqrt","icon":"ss.png","action":"method1","hint":""},\n\t\t\t\t\t{"name":"axis","icon":"ss.png","action":"method1","hint":""},\n\t\t\t\t\t{"name":"graph","icon":"ss.png","action":"method1","hint":""}]}},\n\t\t\t{"name":"media", "btns":{"icon":"ss.png","hint":"media",">":[{"name":"ppt","icon":"ss.png","action":"method1","hint":""},\n\t\t\t\t\t{"name":"video","icon":"ss.png","action":"method1","hint":""}]}},\n\t\t\t{"name":"select_area", "btns":{"icon":"ss.png","hint":"selectable area",">":[{"name":"add","icon":"ss.png","action":"method1","hint":""},\n\t\t\t\t\t{"name":"remove","icon":"ss.png","action":"method1","hint":""}]}},\n\t\t\t{"name":"text", "btns":{"icon":"ss.png","hint":"text area","action":"method1"}},\n\t\t\t{"name":"print", "btns":{"icon":"ss.png","hint":"selectable area","action":"print"}},\n\t\t\t{"name":"clear", "btns":{"icon":"ss.png","hint":"selectable area","action":"method1"}},\n\t\t\t{"name":"modify", "btns":{"icon":"ss.png","hint":"modify",">":[{"name":"delete","icon":"ss.png","action":"method1","hint":""},\n\t\t\t\t\t{"name":"color","icon":"ss.png","action":"method1","hint":""},\n\t\t\t\t\t{"name":"alpha","icon":"ss.png","action":"method1","hint":""},\n\t\t\t\t\t{"name":"undo","icon":"ss.png","action":"method1","hint":""},\n\t\t\t\t\t{"name":"redu","icon":"ss.png","action":"method1","hint":""}]}}\n\t\t];\n\t\t\n\t\tthis.setup();\n\t}\n\tcreatejs.EventDispatcher.initialize(Menu.prototype);\n\tvar p = createjs.extend(Menu, createjs.Container);\n\t\n\tp.getLayer = function (id){ \n\t\treturn this.layers[id]; \n\t}\n\n\tp.hi_Y=0;\n\tp.width=0;\n\tp.height=0;\n\t\n\tp.setup = function() {\n\t\tvar bg = new createjs.Shape();\n\t\tvar hi = new createjs.Shape();\n\t\tbg.alpha=1;\n\t\tbg.name=bg.id="bg";\n\t\thi.alpha=1;\n\t\thi.name=hi.id="hi";\n\t\t\n\t\tthis.menucontain= new WBdraw.MenuBar("wbmenu");\n\t\tthis.menucontain.scaleX=1;\n\t\tthis.submenu= new WBdraw.MenuBar("sub_wbmenu");\n\t\tthis.menubuttons(this.options);\n\t\tbg.snapToPixel=true;\n\t\tthis.menucontain.snapToPixel=true;\n\t\thi.snapToPixel=true;\n\t\tthis.submenu.snapToPixel=true;\n\t\tthis.addChild(bg,this.menucontain,hi,this.submenu);\n\t\t\n\t\tthis.on("mousedown", this.handlePress);\n\t\tthis.on("pressup", this.handleRelease);\n\t\tthis.on("pressmove", this.moveLocally);\n\t\t\n\t\twindow.WBdraw.trace("box1");\n\t\t//this.cursor = "pointer";\n\t\t//this.mouseChildren = false;\n\t\t\n\t\tthis.offset = Math.random()*10;\n\t\tthis.count = 0;\n\t};\n\t\n\t\n\tp.setSize = function (width,height,color){\n\t\tthis.setBgSize(width,height,color);\n\t\tthis.width=width;\n\t\tthis.height=height;\n\t\tfor (var i in this.layers){\n\t\t\tthis.layers[i].setSize(width,height,color);\n\t\t}\n\t\tp.width=width;\n\t\tp.height=height;\n\t};\n\t\n\tp.setBgSize = function(width,height,color){\n\t\tvar bg=this.getChildByName("bg");\n\t\tif (bg!=null){\n\t\t\tbg.graphics.clear()\n\t\t\t\t\t.beginStroke(\'#ccc\')\n\t\t\t\t\t.beginFill(color)\n\t\t\t\t\t.drawRect(0,0,width,height);\n\t\t}\n\t}\n\tp.setHiSize = function(width,height,color){\n\t\tvar hi=this.getChildByName("hi");\n\t\tif (hi!=null){\n\t\t\thi.graphics.clear()\n\t\t\t\t\t.beginFill(color)\n\t\t\t\t\t.drawRect(0,0,width,height);\n\t\t}\n\t}\n\tp.getWidth = function(){\n\t\twindow.WBdraw.trace("get width");\n\t\treturn width;\n\t}\n\tp.wbRegister = function (wbid,tabid){\n\t\t\n\t}\n\tp.clear = function(type,wbid){\n\t\t//clear all objects in view based on type  ;\n\t}\n\tp.wbSwitch = function (wbid){\n\t\t\n\t}\n\tp.unshift =function(items){}//to front\n\tp.push =function(items){}//toback\n\t\n\n\tp.handlePress = function(event){\n\t\tevent.stopImmediatePropagation();\n\t}\n\tp.handleRelease = function(event){\n\t\tevent.stopImmediatePropagation();\n\t}\n\tp.moveLocally = function(event){\n\t\tevent.stopImmediatePropagation();\n\t}\n\t\n\n\n\tp.menubuttons = function(buttons, language){\n\t\tif (language==null) language = "EN";\n\t\toptions =  buttons[language];   //array\n\t\tstot = options.length;\n\t\tthis.hostWL=null;\n\t\tvar old=null;\n\t\tvar btn=null;\n\t\tvar invoke=this.oInvoke;\n\t\tvar btn = new WBdraw.Button("up","up.png","back to menu",\'up\',\'#999\',oUp);\n\t\tthis.menucontain.addChild(btn);\n\t\told=btn;\n\t\tfor (var i =0;i<stot;++i){\n\t\t\tvar opt = options[i];\n\t\t\tif ( !this.subscriberWL[opt["name"]] ){\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tinvoke=(opt["btns"][">"]==undefined? oInvoke : invoke=oInvokeSub);\n\t\t\tbtn = new WBdraw.Button(opt["name"],opt["btns"]["icon"],opt["btns"]["hint"],opt["name"],\'#\'+Math.floor(Math.random()*16777215).toString(16),invoke);\n\t\t\tif (old!=null){\n\t\t\t\tbtn.x=0;\n\t\t\t\tbtn.y=old.y+old.height+10;\n\t\t\t}else{\n\t\t\t\tbtn.x=btn.y=0;\n\t\t\t}\t\t\n\t\t\tbtn.alpha=.5;\n\t\t\tthis.menucontain.addChild(btn,(old==null?true:false));\n\t\t\t\n\t\t\told = btn;\n\t\t}\n\t\twindow.WBdraw.trace("________done...");\n\t\tvar mPoint=this.menucontain.getSize();\n\t\t//this.setSize(mPoint.x,mPoint.y);\n\t\tconsole.log(mPoint);\n\t\t//this.menucontain.x=400\n\t\t\n\t\tvar tween = createjs.Tween.get(this).wait(1);\n\t\ttween.wait(300).call(this.setBgSize,[mPoint.x,mPoint.y, "#DDD"],this);\n\t\t//this.setBgSize(120,200, Math.floor(Math.random()*16777215).toString(16));\n\t\t\n\t}\n\t\n\tfunction oBack(btn,btnID){\n\t\tvar owner = btn.parent.parent;\n\t\tanimateOut(owner);\n\t}\t\n\tfunction oUp(btn,btnID){\n\t\tvar owner = btn.parent.parent;\n\t\t//animateOut(owner);\n\t}\n\t\n\tfunction subButtons(owner,aBtns,selected, language){\n\t\tif (language==null) language = "EN";\n\t\tvar options =  aBtns[language];   //array\n\t\tstot = options.length;\n\t\towner.hostWL=null;\n\t\tvar old=null;\n\t\tif (owner.submenu.currentMenu!=selected){\n\t\t\towner.submenu.requestedMenu(selected);\n\t\t\towner.submenu.removeAllBtns();\n\t\t\tvar btn = new WBdraw.Button("back","back.png","back to menu",\'back\',\'#999\',oBack);\n\t\t\towner.submenu.addChild(btn);\n\t\t\told=btn;\n\t\t\tfor (var i =0;i<stot;++i){\n\t\t\t\tvar opt=options[i];\n\t\t\t\tif ( !owner.subscriberWL[opt["name"]] || opt["name"] != selected)\n\t\t\t\t\tcontinue;\n\t\t\t\tvar subs = opt["btns"][">"];\n\t\t\t\tstot = subs.length;\n\t\t\t\tfor (var j=0; j < stot; ++j){\n\t\t\t\t\tbtn = new WBdraw.Button(subs[j]["name"],subs[j]["icon"],subs[j]["hint"],subs[j]["name"],\'#\'+Math.floor(Math.random()*16777215).toString(16),oInvoke);\n\t\t\t\t\tif (old!=null){\n\t\t\t\t\t\tbtn.x=0;\n\t\t\t\t\t\tbtn.y=old.y+old.height+10;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tbtn.x=btn.y=0;\n\t\t\t\t\t}\t\t\n\t\t\t\t\tbtn.alpha=.5;\n\t\t\t\t\towner.submenu.addChild(btn);\n\t\t\t\t\told = btn;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\twindow.WBdraw.trace(".........FINISHED ");\n\t\t\towner.submenu.setSize(owner.menucontain.width,owner.menucontain.height,\'#\'+Math.floor(Math.random()*16777215).toString(16),true)\n\t\t\towner.submenu.x=owner.menucontain.width;\n\t\t\towner.submenu.scaleX=0;\n\t\t}\n\t\tanimateIn(owner);\n\t}\n\t\n\tfunction animateOut(owner){\n\t\tcreatejs.Tween.get(owner.submenu, {override:true}).to({x: owner.menucontain.width, scaleX:0}, 250, createjs.Ease.quadIn);\n\t\tcreatejs.Tween.get(owner.menucontain, {override:true}).to({x: 0, scaleX:1}, 250, createjs.Ease.quadIn);\n\t\twindow.WBdraw.trace("----->OUT");\n\t\twindow.WBdraw.trace(owner);\n\t\twindow.WBdraw.trace(owner.hi_Y);\n\t\tif (owner.hi_Y!=0){\n\t\t\tvar hi=owner.getChildByName("hi");\n\t\t\tcreatejs.Tween.get(hi, {override:true}).to({y:owner.hi_Y},250,createjs.Ease.quadIn);\n\t\t}\n\t}\n\t\n\tfunction animateIn(owner){\n\t\tcreatejs.Tween.get(owner.submenu, {override:true}).to({x:0,scaleX:1},250,createjs.Ease.quadIn);\n\t\tcreatejs.Tween.get(owner.menucontain, {override:true}).to({x:0, scaleX:.01},250,createjs.Ease.quadIn);\n\t\twindow.WBdraw.trace("----->IN");\n\t\twindow.WBdraw.trace(owner.hi_Y);\n\t\tif (owner.hi_Y!=0){\n\t\t\tvar hi=owner.getChildByName("hi");\n\t\t\tcreatejs.Tween.get(hi, {override:true}).to({y:-20},250,createjs.Ease.quadIn);\n\t\t}\n\t}\n\t\t\n\tfunction oInvokeSub(btn,btnID){ \n\t\tvar m = btn.parent.parent;\n\t\tif (m.options==undefined){\n\t\t\tconsole.log("[E] submenu functions out of context. Please make sure function is delegated");\n\t\t}\n\t\tsubButtons(m,m.options,btnID);\n\t}\n\t\n\tfunction getMainByBtn(owner,btn){\n\t\tvar options =  owner.options["EN"];   //array\n\t\ttot = options.length;\n\t\tfor (var i=0;i<tot;++i){\n\t\t\tvar opt = options[i];\n\t\t\tvar subs = opt["btns"][">"];\n\t\t\tif (subs != undefined){\n\t\t\t\tvar stot = subs.length;\n\t\t\t\tfor (var j=0;j<stot;++j){\n\t\t\t\t\tif(subs[j]["name"] == btn.name)\t\n\t\t\t\t\treturn [opt.name,btn.name];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn [btn.name];\n\t}\n\t\n\tfunction oInvoke(btn,btnID){\n\t\t//alert(" execute   function directly in controller for immediate or subMenu effect:: "+btnID);\n\t\tvar owner = btn.parent.parent;\n\t\tvar hi=owner.getChildByName("hi");\n\t\tvar form="";\n\t\tvar subType="";\n\t\tvar mbtn;\n\t\tif (owner.submenu.scaleX==0){\n\t\t\tform=btn.name;\n\t\t\tmbtn=btn;\n\t\t}else{\n\t\t\tmbtn=owner.menucontain.getChildByName(owner.submenu.currentMenu);\n\t\t\tvar w=4;\n\t\t\tvar types = getMainByBtn(owner,btn);\n\t\t\tconsole.log("....submenu Button pressed...");\n\t\t\tif (types.length>1){\n\t\t\t\tform=types[0];\n\t\t\t\tsubType=types[1];\n\t\t\t}\n\t\t}\n\t\thi.x = owner.menucontain.x + owner.menucontain.width;\n\t\tif (mbtn!=null){\n\t\t\towner.hi_Y = mbtn.y;\n\t\t\t//hi.y = mbtn.y;\n\t\t\towner.setHiSize(w,mbtn.height,\'#FF0000\');\n\t\t}\n\t\twindow.WBdraw.trace("---==>> ||>>  main:"+ form +"  sub:"+ subType);\n\t\t\n\t\t//owner.controller.drawinit(form,subType);\n\t\t//drawinit\n\t\t\n\t\t\twindow.WBdraw.trace("........---------__bb__--->>>>>   event Controller>>>>>   ");\n\t\tvar myevent = {\n\t\t\t type: "MenuEvent",\n\t\t\t param: [form,subType]\n\t\t   };\n\t\towner.dispatchEvent(myevent);\n\t\t\n\t\tif (owner.submenu.x==0)\n\t\t\tanimateOut(owner);\n\t\t\n\t\t//createjs.Tween.get(hi, {override:true}).to({y:-10},250,createjs.Ease.quadIn);\n\t}\n\tscope.Menu = createjs.promote(Menu, "Container");\n}(window.WBdraw));\n\n//# sourceURL=webpack:///./js/wbMenu.js?')},"./js/wbMenuBar.js":/*!*************************!*\
  !*** ./js/wbMenuBar.js ***!
  \*************************//*! no static exports found */function(module,exports){eval('(function(scope) {\n // \'use strict\';\n /**\n * Creates MenuBar to contian main buttons for whiteboard functions \n * @param {String} id \n * @param {String} label\n * @return {String} type\n * @return {String} color\n */\n\t///var scope;// SAME AS static dynamic var\n\tfunction MenuBar(id,label,type, color ) {\n\t\tthis.Container_constructor();\n\t\tthis.id=this.name=id;\n\t\tthis.color = color;\n\t\tthis.label = label;\n\t\tthis.text = new createjs.Text("tools", "20px Arial", "#000");\n\t\tthis.setup();\n\t\tthis.currentMenu="";\n\t}\n\t\n\tvar p = createjs.extend(MenuBar, createjs.Container);\n\t\n\tp.requestedMenu = function(value){\n\t\tthis.currentMenu = value;\n\t}\n\tp.addChild = function(element){\n\t\tconsole.log(element.id);\n\t\tthis.Container_addChild(element);\n\t\tthis.setSize(element.x+element.width,element.y+element.height,\'#\'+Math.floor(Math.random()*16777215).toString(16));\n\t\t\n\t\tvar kids = this.children;\n\t\tfor (var i in kids){\n\t\t\tif (kids[i].type=="btn"){\n\t\t\t\tkids[i].x = Math.abs(this.width-kids[i].width)*.5;\n\t\t\t}\n\t\t}\n\t}\n\tp.width = function (value){\n\t\tconsole.log("@@!!!!@@@  "+this.getWidth());\n\t\tthis.Container_width(value);\n\t}\n\t\n\tp.removeAllBtns = function (){\n\t\tvar total=this.children.length;\n\t\tfor (var i=0; i<total; ++i){\n\t\t\tconsole.log(this.children[i]);\n\t\t\tif (this.children[i].type=="btn"){\n\t\t\t\tthis.removeChild(this.children[i]);\n\t\t\t\t--total;--i;\n\t\t\t}\n\t\t}\n\t}\n\n\n\tp.setup = function() {\n\t\t//var hitArea = new createjs.Shape();\n\t\t//hit.graphics.beginFill("#000").drawRect(0, 0, label2.getMeasuredWidth(), label2.getMeasuredHeight());\n\t\t//label2.hitArea = hit;\n\t\t/*var text = new createjs.Text("tools", "20px Arial", "#000");\n\t\ttext.name=text.id="txt";\n\t\ttext.textBaseline = "top";\n\t\ttext.textAlign = "center";\n\t\t*/\n\t\t\n\t\t//var width = text.getMeasuredWidth()+30;\n\t\t//var height = text.getMeasuredHeight()+20;\n\t\t\n\t\t//scope = this;\n\t\t//text.x = width/2;\n\t\t//text.y = 10;\n\t\tthis.scaleX=0;\n\t\tvar bg = new createjs.Shape();\n\t\tbg.name=bg.id="bg";\n\t\tbg.alpha=.5;\n\t\t\n\t\tthis.on("mousedown", this.handlePress);\n\t\tthis.on("pressup", this.handleRelease);\n\t\tthis.on("pressmove", this.moveLocally);\n\t\t//bg.graphics.beginFill(this.color).drawRoundRect(0,0,width,height,10);\n\t\t//bg.graphics.setStrokeStyle(5);\n\t\t//bg.graphics.beginStroke(\'#\'+Math.floor(Math.random()*16777215).toString(16));\n\t\t//bg.graphics.beginFill(this.color).drawRoundRect(0,0,width,height,10);\n\t\t\n\t\t//this.addChild(bg, text); \n\t\tthis.addChild(bg); \n\n\t\t\n\t\tthis.offset = Math.random()*10;\n\t\tthis.count = 0;\n\t} ;\n\t\n\t\t\n\tp.handlePress = function(event){\n\t\tevent.stopImmediatePropagation();\n\t}\n\tp.handleRelease = function(event){\n\t\tevent.stopImmediatePropagation();\n\t}\n\tp.moveLocally = function(event){\n\t\tevent.stopImmediatePropagation();\n\t}\n\t\n\n\tp.width=0;\n\tp.height=0;\n\t\n\tp.setSize = function (width, height, color, all){\n\t\tvar bg=this.getChildByName("bg");\n\t\t//console.log("set size now in MenuBar w:"+width);\n\t\tif (bg==null) throw new Error("FAILED to load bg in wbMenuBar");\n\t\tbg.graphics.clear()\n\t\t\t\t.beginStroke(\'#ccc\')\n\t\t\t\t.beginFill(color)\n\t\t\t\t.drawRect(0,0,width,height);\n\t\tthis.width=width;\n\t\tthis.height=height;\n\t\t\n\t\tif (all){\n\t\t\tvar total=this.children.length;\n\t\t\tfor (var i=0; i<total; ++i){\n\t\t\t\tif (this.children[i].type=="btn")\n\t\t\t\t\tthis.children[i].width=width;\n\t\t\t\t\tthis.children[i].height=height;\n\t\t\t}\n\t\t}\n\t\t//bg.width=width;\n\t\t\n\t}\n\tp.getWidth = function(){\n\t\treturn width;\n\t}\n\t\n\tp.getSize = function(){\n\t\treturn new createjs.Point(this.width,this.height);\n\t}\n\t\n\tp.endDraw = function(event){\n\t\tvar mStage = event.target;\n\t\tvar target, targets = mStage.getObjectsUnderPoint(mStage.mouseX, mStage.mouseY, 1);\n        for (var i=0; i<targets.length; i++) {\n            if (targets[i].parent.scaled) {\n                target = targets[i].parent;\n                break;\n            }\n        }\n\t\tconsole.log(target.scaled);\n        if (target != null) {\n\t\t\ttarget.scaled=false;\n\t\tcreatejs.Tween.get(target,{override:true}).to({scaleX:1, scaleY:1},100,createjs.Ease.quadIn);\n\t\t\t\n        }\n\t}\n\t\n\n\tscope.MenuBar = createjs.promote(MenuBar, "Container");\n}(window.WBdraw));\n\n//# sourceURL=webpack:///./js/wbMenuBar.js?')},"./js/wb_Config.js":/*!*************************!*\
  !*** ./js/wb_Config.js ***!
  \*************************//*! no static exports found */function(module,exports){eval('/**\n * ...\n */\n\n(function(scope) {\n// \'use strict\'; \n\tfunction ConfigWB( platform, width, height) {\n        this.initialize(platform, width, height);\n    }\n\tvar s = ConfigWB;\n\t\t// Platform ENUMs\n\ts.PLATFORM_DESKTOP = "desktop";\n\ts.PLATFORM_WP7 = "wp7";\n\ts.PLATFORM_WP8 = "wp8"; // Might be fine to use WP\n\ts.PLATFORM_IPHONE = "iPhone";\n\ts.PLATFORM_IPHONE3 = "iPhone3";\n\ts.PLATFORM_IPHONE_PINNED = "iPhonePinned";\n\ts.PLATFORM_IPHONE3_PINNED = "iPhone3Pinned";\n\n\ts.QUALITY_NORMAL = 0;\n\ts.QUALITY_HIGH = 1;\n\ts.QUALITY_LOW = 2;\n\t\n\tvar p = ConfigWB.prototype = {\n\t\ttouchEnabled: false,\n\t\t\n\t\tisIOS: false,\n\t\twidth: 1024,\n\t\theight: 622,\n\t\tscaleFactor: 1,\n\t\tplatform: null,\n\t\t/**\n\t\t * The  quality is determined by the rough resolution and platform, which provides an\n\t\t * idea on how much to scale assets in a game to be reasonable.\n\t\t * <ul>\n\t\t *     <li>Normal (0): This is the default, and what is shown on the desktop (1024x622)</li>\n\t\t *     <li>High (1): A device with high resolution, it is recommended to draw assets a little larger (1.5x or so).\n\t\t *      Devices with high resolution include the iPhone 4+, and Windows Phone 8 devices with 720p resolution.\n\t\t *     <li>Low (2): A device with low resolution, it is recommended to draw assets a little smaller (0.75x).\n\t\t *      Devices with low resolution include Windows Phone 7 & 8 (WVGA), and iPhone 3GS and lower.\n\t\t * </ul>\n\t\t * @property quality\n\t\t * @type Number\n\t\t * @default QUALITY_NORMAL (0)\n\t\t */\n\t\tquality: s.QUALITY_NORMAL,\n\t\t\n\t\tinitialize: function( platform, width, height) {\n\t\t\t// Set the size if it was passed in.\n\t\t\tif (width != null) { this.width = width; }\n\t\t\tif (height != null) { this.height = height; }\n\n\t\t\t//TODO: Platform will have to be determined by the system.\n\t\t\tthis.platform = platform;\n\t\t\tswitch (platform) {\n\t\t\t\tcase s.PLATFORM_DESKTOP:\n\t\t\t\t\tthis.width = 1024;\n\t\t\t\t\tthis.height = 622;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase s.PLATFORM_WP7:\n\t\t\t\t\tthis.width = 800;\n\t\t\t\t\tthis.height = 410;\n\t\t\t\t\tthis.scaleFactor = 0.6;\n\t\t\t\t\tthis.quality = s.QUALITY_LOW;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase s.PLATFORM_WP8:\n\t\t\t\t\t//TODO: Might have WVGA resolution as well, which is low-res\n\t\t\t\t\tthis.width = 1280;\n\t\t\t\t\tthis.height = 700;\n\t\t\t\t\tthis.scaleFactor = 0.6;\n\t\t\t\t\tthis.quality = s.QUALITY_HIGH;\n\t\t\t\t\tbreak;\n\n\t\t\t\t/* Mobile with browser chrome\n\t\t\t\tcase s.PLATFORM_IPHONE:\n\t\t\t\t\tthis.width = 960;\n\t\t\t\t\tthis.height = 396;\n\t\t\t\t\tthis.scaleFactor = 0.5;\n\t\t\t\t\tthis.quality = s.QUALITY_HIGH;\n\t\t\t\t\tbreak;\n\t\t\t\tcase s.PLATFORM_IPHONE3:\n\t\t\t\t\tthis.width = 480;\n\t\t\t\t\tthis.height = 196;\n\t\t\t\t\tthis.quality = s.QUALITY_LOW;\n\t\t\t\t\tbreak;\n\t\t\t\tcase s.PLATFORM_IPHONE3_PINNED:\n\t\t\t\t\tthis.width = 480;\n\t\t\t\t\tthis.height = 320;\n\t\t\t\t\tthis.quality = s.QUALITY_LOW;\n\t\t\t\t\tbreak;\n\t\t\t\t*/\n\n\t\t\t\tcase s.PLATFORM_IPHONE:\n\t\t\t\t\tthis.width = 960;\n\t\t\t\t\tthis.height = 640;\n\t\t\t\t\tthis.scaleFactor = 0.5;\n\t\t\t\t\tthis.quality = s.QUALITY_HIGH;\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\t\t},\n\t\n\t\ttoString: function() {\n\t\t\treturn "[Config.ConfigWB]";\n\t\t}\n\t\t\n\t}\n\t\n\ts.getContrast50 = function (hexcolor){\n\t\treturn (parseInt(hexcolor.substring(1), 16) > 0xffffff/2) ? \'black\':\'white\';\n\t}\n\t\n\ts.luma = function(hex/*#000000*/){\n\t\t//console.log(hex);//#61fbf1 //#88d66 //#92ae2 //#cf2f9\n\t\tvar c = hex.substring(1);      // strip #\n\t\tvar rgb = parseInt(c, 16);   // convert rrggbb to decimal\n\t\tvar r = (rgb >> 16) & 0xff;  // extract red\n\t\tvar g = (rgb >>  8) & 0xff;  // extract green\n\t\tvar b = (rgb >>  0) & 0xff;  // extract blue\n\t\treturn  0.2126 * r + 0.7152 * g + 0.0722 * b; // per ITU-R BT.709\n\t}\n\t\n\ts.MidPoint= function( from, to ){\n\t  var xs = 0;\n\t  var ys = 0;\n\t  xs = to.x - from.x;\n\t  xs = xs * xs;\n\t  ys = to.y - from.y;\n\t  ys = ys * ys;\n\t  return Math.sqrt( xs + ys );\n\t}\n\t/*\n\tWBdraw.rotatePoint = function(cc, pp, angle) {\n\t\tvar radians = (Math.PI / 180) * angle,\n\t\t\tcos = Math.cos(radians),\n\t\t\tsin = Math.sin(radians),\n\t\t\tnx = (cos * (pp.x - cc.x)) + (sin * (pp.y - cc.y)) + cc.x,\n\t\t\tny = (cos * (pp.y - cc.y)) - (sin * (pp.x - cc.x)) + cc.y;\n\t\treturn [nx, ny];\n\t}*/\n\t\n\ts.rotateAngle = function(from,to){\n\t\t var deltaX = to.x - from.x;\n\t\t var deltaY = to.y - from.y;\n\t\t var angleRad = Math.atan2(deltaY, deltaX); // In radians\n\t\t angleDeg = angleRad * 180 / Math.PI;\n\t\t\treturn angleDeg\n\t}\n\t\n\ts.convert2pos =function (owner,lc){\n\t\tif (lc.x>0 && lc.y<0 || lc.y>0 && lc.x<0){//move 0,0 to (-lc.x,0) and lc.x,lc.y to (lc.x-lc.x,lc.y)\n\t\t\t//then move the reg.x and reg.y points accordingly\n\t\t\tconsole.log(owner.type)\n\t\t\tif (owner.type== \'straight\' || owner.type== \'links\'){\n\t\t\t\t\tconsole.log(">>>>>  +%+%+%--GOT IT HOOKED--%+%+%+%++"+owner.constructor.name +"   ::>> "+window.WBdraw.FormLine.name);\n\t\t\t\treturn lc;\n\t\t\t}\n\t\t}\n\t\tif (lc.x<0){//moveBy in the + direction X\n\t\t\tlc.x=Math.abs(lc.x);\n\t\t\towner.x-=lc.x;\n\t\t}\n\t\tif (lc.y<0){//moveBy in the + direction Y\n\t\t\tlc.y=Math.abs(lc.y);\n\t\t\towner.y-=lc.y;\n\t\t}\n\t\treturn lc;\n\t}\t\n\t\n\ts.lineInterpolate =function ( owner,x2,y2, distance ){\n\t\t  var xabs = Math.abs( 0 - x2 );\n\t\t  var yabs = Math.abs( 0 - y2 );\n\t\t  var xdiff = x2 - 0;\n\t\t  var ydiff = y2 - 0;\n\t\t \n\t\t  var length = Math.sqrt( ( Math.pow( xabs, 2 ) + Math.pow( yabs, 2 ) ) );\n\t\t  var steps = length / distance;\n\t\t  var xstep = xdiff / steps;\n\t\t  var ystep = ydiff / steps;\n\t\t \n\t\t  var newx = 0;\n\t\t  var newy = 0;\n\t\t  var result = new Array();\n\t\tvar a =  owner.related.to;\n\t\tvar b =  owner.related.from;\n\t\t  for( var s = 0; s < steps; s++ )\n\t\t  {\n\t\t\tnewx =0 + ( xstep * s );\n\t\t\tnewy = 0 + ( ystep * s );\n\t\t \n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\tresult.push( {\n\t\t\t  x: Math.round(newx),\n\t\t\t  y: Math.round(newy)\n\t\t\t} );\n\t\t  }\n\t\t \n\t\t  return result;\n\t}\n\t\n\t\n\tscope.ConfigWB = ConfigWB;\n}(window.WBdraw));\n\n//# sourceURL=webpack:///./js/wb_Config.js?')},0:/*!*************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** multi ./js/BrowserDetect.js ./js/Button.js ./js/Main.js ./js/resizeButton.js ./js/wb_Config.js ./js/wbBoard.js ./js/wbBox.js ./js/wbFormFill.js ./js/wbFormLine.js ./js/wbFormProxy.js ./js/wbFormResizer.js ./js/wbFormShape.js ./js/wbFormText.js ./js/wbMaster.js ./js/wbMenu.js ./js/wbMenuBar.js ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************//*! no static exports found */function(module,exports,__webpack_require__){eval('__webpack_require__(/*! /Users/alfredorivera/Documents/Projects/FreeDraw/reactjs/js/BrowserDetect.js */"./js/BrowserDetect.js");\n__webpack_require__(/*! /Users/alfredorivera/Documents/Projects/FreeDraw/reactjs/js/Button.js */"./js/Button.js");\n__webpack_require__(/*! /Users/alfredorivera/Documents/Projects/FreeDraw/reactjs/js/Main.js */"./js/Main.js");\n__webpack_require__(/*! /Users/alfredorivera/Documents/Projects/FreeDraw/reactjs/js/resizeButton.js */"./js/resizeButton.js");\n__webpack_require__(/*! /Users/alfredorivera/Documents/Projects/FreeDraw/reactjs/js/wb_Config.js */"./js/wb_Config.js");\n__webpack_require__(/*! /Users/alfredorivera/Documents/Projects/FreeDraw/reactjs/js/wbBoard.js */"./js/wbBoard.js");\n__webpack_require__(/*! /Users/alfredorivera/Documents/Projects/FreeDraw/reactjs/js/wbBox.js */"./js/wbBox.js");\n__webpack_require__(/*! /Users/alfredorivera/Documents/Projects/FreeDraw/reactjs/js/wbFormFill.js */"./js/wbFormFill.js");\n__webpack_require__(/*! /Users/alfredorivera/Documents/Projects/FreeDraw/reactjs/js/wbFormLine.js */"./js/wbFormLine.js");\n__webpack_require__(/*! /Users/alfredorivera/Documents/Projects/FreeDraw/reactjs/js/wbFormProxy.js */"./js/wbFormProxy.js");\n__webpack_require__(/*! /Users/alfredorivera/Documents/Projects/FreeDraw/reactjs/js/wbFormResizer.js */"./js/wbFormResizer.js");\n__webpack_require__(/*! /Users/alfredorivera/Documents/Projects/FreeDraw/reactjs/js/wbFormShape.js */"./js/wbFormShape.js");\n__webpack_require__(/*! /Users/alfredorivera/Documents/Projects/FreeDraw/reactjs/js/wbFormText.js */"./js/wbFormText.js");\n__webpack_require__(/*! /Users/alfredorivera/Documents/Projects/FreeDraw/reactjs/js/wbMaster.js */"./js/wbMaster.js");\n__webpack_require__(/*! /Users/alfredorivera/Documents/Projects/FreeDraw/reactjs/js/wbMenu.js */"./js/wbMenu.js");\nmodule.exports = __webpack_require__(/*! /Users/alfredorivera/Documents/Projects/FreeDraw/reactjs/js/wbMenuBar.js */"./js/wbMenuBar.js");\n\n\n//# sourceURL=webpack:///multi_./js/BrowserDetect.js_./js/Button.js_./js/Main.js_./js/resizeButton.js_./js/wb_Config.js_./js/wbBoard.js_./js/wbBox.js_./js/wbFormFill.js_./js/wbFormLine.js_./js/wbFormProxy.js_./js/wbFormResizer.js_./js/wbFormShape.js_./js/wbFormText.js_./js/wbMaster.js_./js/wbMenu.js_./js/wbMenuBar.js?')}});